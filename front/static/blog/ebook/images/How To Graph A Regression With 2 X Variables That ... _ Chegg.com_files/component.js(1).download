window.Chegg_Header_Define = function($,jQuery,_,Backbone,Eggshell){!function(e){function t(e){var t=new Image;return t.src=e,t}function i(){return console.warn("naturalWidth: no image have been passed"),0}return"naturalWidth"in new Image?(e.fn.naturalWidth=function(){return this.length?this[0].naturalWidth:i()},void(e.fn.naturalHeight=function(){return this.length?this[0].naturalHeight:i()})):(e.fn.naturalWidth=function(){return this.length?t(this[0].src).width:i()},void(e.fn.naturalHeight=function(){return this.length?t(this[0].src).height:i()}))}($||jQuery),$.fn.scrollFocus=function(){var e=this;if(0===e.length)return null;var t=0,i=parseInt(e.css("padding-top"))+1,s=parseInt(e.css("padding-bottom"))+1;e.css("padding-top",i+"px"),e.css("padding-bottom",s+"px"),e.on("touchend.scrollFocus",function(){var i=e.scrollTop();0===i?e.scrollTop(1):i===t&&e.scrollTop(t-1)}),e.trigger("touchend.scrollFocus");var n=function(){t=e[0].scrollHeight-e.outerHeight(),e.trigger("touchend.scrollFocus")};return $(window).on("resize.scrollFocus",function(){n()}),{update:n,destroy:function(){e.off("touchend.scrollFocus"),$(window).off("resize.scrollFocus"),e.css("padding-top",i-1+"px"),e.css("padding-bottom",s-1+"px")}}};var header=document.getElementsByClassName("chgg-hdr");header=header.length>0?header[0]:!1,header&&!function(e){if("undefined"==typeof chggClickFocusTracked||!chggClickFocusTracked){var t,i=function(e){t="mousedown"===e.type},s=function(e){t&&e.target.classList.add("focus--mouse")},n=function(e){e.target.classList.remove("focus--mouse")},a=function(){e.addEventListener("keydown",i),e.addEventListener("mousedown",i),e.addEventListener("focusin",s),e.addEventListener("focusout",n)};a()}}(header);var header=$(".chgg-hdr.type-home");header=header.length>0?header[0]:!1,hideLastItem=function(){$($(".nav-items > .nav-item").get().reverse()).each(function(){if(!$(this).hasClass("moreitems-item")&&$(this).is(":visible")){$(this).hide();var e=".moreitems-item .links-section ."+this.className.split(" ").pop();return $(e).css("display","block"),!1}})},showLastHiddenItem=function(){$(".nav-items").children(".nav-item").each(function(){if(!$(this).hasClass("moreitems-item")&&!$(this).is(":visible")){$(this).show();var e=".moreitems-item .links-section ."+this.className.split(" ").pop();return $(e).css("display","none"),!1}})},hasHiddenItem=function(){return $(".nav-items > .nav-item").filter(function(){return!$(this).is(":visible")}).length},searchShrinkingLogic=function(){$(".chg-search-content").length&&(containerWidth=$(".chg-search-content").innerWidth(),containerWidth>0&&(containerWidth<183&&$(".moreitems-item").length&&($(".moreitems-item").show(),hideLastItem()),containerWidth>290&&(showLastHiddenItem(),$(".moreitems-item").length&&$(".moreitems-item").is(":visible")&&!hasHiddenItem()&&$(".moreitems-item").hide())))},header&&!function(){$(document).ready(function(){searchShrinkingLogic()}),$(window).resize(function(){searchShrinkingLogic()}),$(window).scroll(function(){$(".chgg-hdr.translucent").length?$(".moreitems-item").is(":visible")&&($(".nav-items").children(".nav-item").each(function(){$(this).show()}),$(".moreitems-item").hide()):searchShrinkingLogic()})}(header),function(e,t){return e=e||global,e.EVENTS_NO_REQUIRE?void(e.Events=t()):void("object"==typeof exports?module.exports.Events=t():e.Events=t())}(this,function(){function e(e,t){return e.indexOf?e.indexOf(t):String.prototype.indexOf(e,t)}function t(e){if(m.strict)throw new Error(e);"console"in window&&(console.error?console.error(e):console.warn?console.warn(e):console.log(e))}function i(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})}function s(e){var i=e.match(v);return e.split(":").length>2&&t("Library does not support multiple pseudo events"),{name:i[1],pseudo:i[2],args:i[3]}}function n(e){return s(i(e))}function a(e,t,i,s){var n;return f?(n=document.createEvent("UIEvents"),n.initUIEvent(e,s,!0,window,1)):n={},n.dispatcher=t,n.args=i,n.object_event=!0,n}function r(t,i,s){f?t.$event_element.addEventListener(i,s,!1):t.$events[i]?-1==e(t.$events[i],s)&&t.$events[i].push(s):t.$events[i]=[s]}function o(e,t,i){var s,n;if(f)e.$event_element.dispatchEvent(i);else{if(!e.$events[t])return;for(s=0;n=e.$events[t][s];s++)n.apply(null,[i])}}function l(t,i,s){var n;if(f)t.$event_element.removeEventListener(i,s,!1);else{if(!t.$events[i])return;if(n=e(t.$events[i],s),0>n)return;t.$events[i].splice(n,1)}}var h,c,d,u,g,m,p,f=!1,v=/([^:]+)(?:\:([^(]*)(?:\((.*)\))?)?/;try{f=document&&"addEventListener"in document}catch(b){}return m=function $(e,t){var i,s=this,n="$event_element $latched $events $once addEvent addEvents fireEvent removeEvent addEventOnce fireLatchedEvent".split(" ");f?this.$event_element=e||document.createElement("events"):this.$events={},this.$has_events=!0,this.$latched={},this.$once={},this.addEvent=h,this.addEvents=c,this.fireEvent=d,this.removeEvent=u,this.addEventOnce=g,this.fireLatchedEvent=p;for(i in $.aliases)this[i]=this[$.aliases[i]],n.push(i);t||this.addEvent("destroy:delay(0)",function(){var e,t;if(!s.$no_ev_destroy){for(e=0;t=n[e];e++)s[t]=null;s.$events_destroyed=!0}})},m.removeOn=i,m.getPseudos=s,m.processType=n,m.createEvent=a,m.strict=!1,m.aliases={on:"addEvent",addListener:"addEvent",once:"addEventOnce",removeListener:"removeEvent",off:"removeEvent",emit:"fireEvent"},m.Pseudoes={once:{addEvent:function(e,t){return this.addEventOnce(e,t)}},latched:{fireEvent:function(e,t){return this.fireLatchedEvent(e,t)}},times:{addEvent:function(e,t,i){var s=0,n=this;this.addEvent(e,function a(){t.apply(null,arguments),s+=1,s==i&&n.removeEvent(e,a)})}},delay:{addEvent:function(e,t,i){this.addEvent(e,function(){setTimeout(t,i)})},fireEvent:function(e,t,i){var s=this;setTimeout(function(){s.fireEvent(e,t)},i)}}},h=function(e,t){if(this.$events_destroyed)return this;var i,s=n(e),o=m.Pseudoes[s.pseudo]&&m.Pseudoes[s.pseudo].addEvent,l=this.$latched[s.name]&&this.$latched[s.name].args;return o?o.apply(this,[s.name,t,s.args]):(r(this,s.name,t),this.$latched&&this.$latched[s.name]&&(i=a(s.name,this,l),t.apply(null,[i])),this)},c=function(e){if(this.$events_destroyed)return this;var t;for(t in e)e.hasOwnProperty(t)&&this.addEvent(t,e[t]);return this},d=function(e,t,i){if(this.$events_destroyed)return this;var s,r,l,h=n(e),c=m.Pseudoes[h.pseudo]&&m.Pseudoes[h.pseudo].fireEvent;if(null==i&&(i=!0),c)return c.call(this,h.name,t);if(l=this.$once[h.name],this.$once[h.name]=null,s=a(h.name,this,t,i),o(this,h.name,s),!l)return this;for(;r=l.pop();)this.removeEvent(h.name,r,!0);return this},u=function(t,i,s){if(this.$events_destroyed)return this;var a,r=n(t);return l(this,r.name,i),!s&&this.$once[r.name]&&(a=e(this.$once[r.name],i))>-1&&this.$once[r.name].splice(a,1),this},g=function(t,i){if(this.$events_destroyed)return this;var s=n(t);return this.$once[s.name]||(this.$once[s.name]=[]),-1==e(this.$once[s.name],i)&&this.$once[s.name].push(i),this.addEvent(s.name,i)},p=function(e,t){return this.$events_destroyed?this:(this.$latched||(this.$latched={}),this.$latched[e]={args:t},this.fireEvent(e,t),this)},m.addEvent=h,m.addEvents=c,m.addEventOnce=g,m.fireEvent=d,m.fireLatchedEvent=p,m.removeEvent=u,m.processType=n,m}),Eggshell.define("C.global.tutors.chat",{inputs:["render","page refreshed","toggle chat list","auth loaded"],output:["rendered"]},function(e){var t=$("<div class='embed-js' id='chat-component'></div>");$("body").append(t);var i=window.lightningjs.require("chat"),s=new RegExp(["^[/]login","^[/]auth"].join("|")),n=!1,a=function(){if(!n){var e=Eggshell.find("C.common.auth");e.getId()&&(e.trigger("disable redirect",!0).on("authentication successful",l),n=!0)}},r=function(){return s.test(window.location.pathname)?(i("hasDeferred",function(e){e&&a()}),i("minimizeWindows"),!0):!1},o=function(){"/signout"===window.location.pathname&&(C.utility.setCookie("sessionid","",-1),i("signOut"))},l=function(){i("deferFinish",function(){Eggshell.find("C.common.auth").trigger("do redirect")})},h=function(e,t){i("deferSave",e,t,function(){C.utility.navigate("/auth")})};this.authLoaded=function(){r()},this.start=function(){o(),r(),i("onChegg",{"sign-up":function(e){h("queueMessage",e)},"sign-up:meet-now":function(e){h("saveMeetNow",e)}}),i("start")},this.render=function(){i("render",t[0],{OMNIBAR_MINIMIZE:!0}),this.start()},this.pageRefreshed=function(){o(),r()||C.global.userUuid||i("deferSave",null),i("hideOmnibar")},this.toggleChatList=function(e,t){i("toggleOmnibar",!!t)},this.setListeners=function(){Eggshell.find(this).on("render",this.render).on("toggle chat list",this.toggleChatList).on("page refreshed",this.pageRefreshed).on("auth loaded",this.authLoaded)},this.initialize=function(){C.global.instaEdu&&this.setListeners()},this.initialize()}),Eggshell.define("C.global.tutors.embed",{inputs:["render"],output:["rendered"]},function(e){window.lightningjs||function(e){function t(t,s){var n="1";return s&&(s+=(/\?/.test(s)?"&":"?")+"lv="+n),e[t]||function(){var n=window,a=document,r=t,o=a.location.protocol,l="load",h=0;!function(){function t(){c.P(l),c.w=1,e[r]("_load")}e[r]=function(){function t(){return t.id=a,e[r].apply(t,arguments)}var i=arguments,s=this,a=++h,o=s&&s!=n?s.id||0:0;return(c.s=c.s||[]).push([a,o,i]),t.then=function(e,i,s){var n=c.fh[a]=c.fh[a]||[],r=c.eh[a]=c.eh[a]||[],o=c.ph[a]=c.ph[a]||[];return e&&n.push(e),i&&r.push(i),s&&o.push(s),t},t};var c=e[r]._={};c.fh={},c.eh={},c.ph={},c.l=s?s.replace(/^\/\//,("https:"==o?o:"http:")+"//"):s,c.p={0:+new Date},c.P=function(e){c.p[e]=new Date-c.p[0]},c.w&&t(),n.addEventListener?n.addEventListener(l,t,!1):n.attachEvent("on"+l,t);var d=function(){function e(){return["<head></head><",t,' onload="var d=',p,";d.getElementsByTagName('head')[0].",o,"(d.",l,"('script')).",h,"='",c.l,"'\"></",t,">"].join("")}var t="body",s=a[t];if(!s)return setTimeout(d,100);c.P(1);var n,o="appendChild",l="createElement",h="src",u=a[l]("div"),g=u[o](a[l]("div")),m=a[l]("iframe"),p="document",f="domain",v="contentWindow";u.style.visibility="hidden",u.style.height="0px",s.insertBefore(u,s.firstChild).id=i+"-"+r,m.frameBorder="0",m.id=i+"-frame-"+r,/MSIE[ ]+6/.test(navigator.userAgent)&&(m[h]="javascript:false"),m.allowTransparency="true",g[o](m);try{m[v][p].open()}catch(b){c[f]=a[f],n="javascript:var d="+p+".open();d.domain='"+a.domain+"';",m[h]=n+"void(0);"}try{var $=m[v][p];$.write(e()),$.close()}catch(x){m[h]=n+'d.write("'+e().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}c.P(2)};c.l&&d()}()}(),e[t].lv=n,e[t]}var i="lightningjs",s=window[i]=t(i);s.require=t,s.modules=e}({});var t=C.global.tutorsCdnUrl||"/tutors/",i=window.lightningjs.require("embed",t+"publish/static/js/embed.js");this.render=function(){i("config",{uid:C.global.userUuid,CHEGG_UUID_CHECKSUM:C.global.uuidChecksum,CSS_URL:t+"publish/static/css/embed-chegg.css"}),i("on",{redirect:function(e){window.location.href=e}});var e=Eggshell.create("C.global.tutors.chat").trigger("render");Eggshell.immuneToDestroyAll(e)},this.setListeners=function(){Eggshell.find(this).on("render",this.render)},this.initialize=function(){C.global.instaEdu&&this.setListeners()},this.initialize()}),Eggshell.define("C.global.header.avatar",{inputs:["set avatar id","update avatar image url","update avatar image url with matching id","set size","set shape","set border","set avatar link url"],outputs:["rendered"]},function(e){this.id=null,this.$el=e.el,this.$el.addClass("medium"),this.$el.append($("<img>").attr("alt","Profile avatar")),this.$el.hide(),this.setSize=function(e,t){this.$el.removeClass("xsmall small medium large xlarge").addClass(t),this.resizeImage()},this.setShape=function(e,t){this.$el.removeClass("circle square").addClass(t)},this.enableBorder=function(e,t){t?this.$el.addClass("border"):this.$el.removeClass("border")},this.setUserId=function(e,t){this.id=t},this.resizeImage=function(){var e=$(this.$el.find("img"));e.length>0&&(e.naturalWidth()>0&&e.naturalHeight()>0?this.onLoadImage():e.on("load",$.proxy(this.onLoadImage,this)))},this.onLoadImage=function(){var e=$(this.$el.find("img"));if(0!==e.length){var t=e.naturalWidth(),i=e.naturalHeight(),s=this.$el.width(),n=this.$el.height();if(t>i){var a=n*t/i,r=a/n*100,o=(a-n)/2;e.css({position:"relative","max-width":"none",width:r.toFixed(0)+"%",left:"-"+o.toFixed(1)+"px"})}else if(i>t){var l=s*i/t,h=l/s*100,c=(l-s)/2;e.css({position:"relative","max-height":"none",height:h.toFixed(0)+"%",top:"-"+c.toFixed(1)+"px"})}}},this.updateImageUrl=function(e,t){var i=t;this.resizeImage(),$("img",this.$el).attr("src",i),this.$el.show()},this.updateImageUrlWithMatchingId=function(e,t){var i=t.id,s=t.image;i?i==this.id&&this.updateImageUrl(null,s):this.updateImageUrl(null,s)},this.setLinkUrl=function(e,t){var i=$("img",this.$el);i.remove(),$("<a></a>").attr("href",t).attr("tabindex","-1").append(i).appendTo(this.$el)},Eggshell.find(this).on("set avatar id",this.setUserId).on("set size",this.setSize).on("set shape",this.setShape).on("set border",this.enableBorder).on("set avatar link url",this.setLinkUrl).on("update avatar image url",this.updateImageUrl).on("update avatar image url with matching id",this.updateImageUrlWithMatchingId)}),Eggshell.define("C.global.cheggheader",{inputs:["render","oc search loaded","page refreshed","hide all overlays","close nav dropdowns","close menu","hide user distractions","show user distractions","update user menu","update type","enable translucent background","disable translucent background","collapse search","set search on scroll","set no search","set search type","set type","set structure menu items","set user menu items","set menu settings","set notification","disable constellation"],output:[]},function(){this.structureMenuItems=[],this.render=function(){return KEY_VALUES={ENTER:13,SPACE:32,TAB:9},0===$(".chgg-hdr").length?"":(headerEl=$(".chgg-hdr"),this.renderNavigation=Eggshell.create("C.global.cheggheader.render",{targetEl:$(".chgg-hdr-content"),structureMenuItems:this.structureMenuItems,settings:this.menuSettings}).trigger("render"),this.menuEvents=Eggshell.create("C.global.cheggheader.menu",{targetEl:headerEl.find(".chgg-menu-container"),closeMenuButtonEl:headerEl.find(".icon-chegg-cancel"),menuEl:headerEl.find(".chgg-menu"),combinedMenuEl:headerEl.find(".chgg-menu.combined-nav"),splitMenuEl:headerEl.find(".chgg-menu.split-nav"),type:this.type}).trigger("load events"),this.navEvents=Eggshell.create("C.global.cheggheader.navigation",{targetEl:headerEl.find(".chgg-hdr-navigation"),KEY_VALUES:KEY_VALUES}).trigger("load events"),this.rightSection=Eggshell.create("C.global.cheggheader.rightsection",{el:$(".chgg-hdr-right-section-main"),userMenuItems:this.userMenuItems,notification:this.notification,KEY_VALUES:KEY_VALUES,type:this.type,userType:this.userType,settings:this.menuSettings}).trigger("render"),this.noSearch||this.createSearch(),Eggshell.immuneToDestroyAll(this.renderNavigation),Eggshell.immuneToDestroyAll(this.menuEvents),Eggshell.immuneToDestroyAll(this.navEvents),Eggshell.immuneToDestroyAll(this.rightSection),Eggshell.immuneToDestroyAll(this.subHeader),Eggshell.connect(this.menuEvents,"cheggheaderMenuOpened",Eggshell.find(this),"hide all overlays"),Eggshell.connect(this.menuEvents,"cheggheaderMenuOpened",Eggshell.find(this),"close nav dropdowns"),Eggshell.connect(this.navEvents,"hover menu opened",Eggshell.find(this),"hide all overlays"),Eggshell.connect(this.navEvents,"hover menu opened",Eggshell.find(this),"close menu"),Eggshell.connect(this.menuEvents,"open navigation item",this.renderNavigation,"expand navigation items"),Eggshell.connect(this.menuEvents,"open sub navigation item",this.renderNavigation,"expand sub navigation items"),void this.setupScrollChanges(this.scrollEndpoint))},this.createSearch=function(){return $(".chgg-hdr-kitkat-search-box").length>0?void(window.globalChggHeaderSearch=Eggshell.create("C.global.cheggheader.kitkat",{el:$(".chgg-hdr-kitkat-search-box"),distractionsHidden:this.distractionsHidden,noSearch:this.noSearch,KEY_VALUES:KEY_VALUES}).trigger("set search type",this.searchProfile).trigger("render")):(window.globalChggHeaderSearch=Eggshell.create("C.global.cheggheader.searchbox",{el:$(".chgg-hdr-search-box"),distractionsHidden:this.distractionsHidden,noSearch:this.noSearch,KEY_VALUES:KEY_VALUES}).trigger("set search type",this.searchProfile).on("search field collapsed",$.proxy(function(){this.handleScrollChanges(this.scrollEndpoint)},this)).trigger("render"),Eggshell.immuneToDestroyAll(window.globalChggHeaderSearch),Eggshell.connect(window.globalChggHeaderSearch,"search field start expanding",this.navEvents,"collapse navigation items"),Eggshell.connect(window.globalChggHeaderSearch,"search field start expanding",Eggshell.find(this),"hide all overlays"),Eggshell.connect(window.globalChggHeaderSearch,"search field start expanding",Eggshell.find(this),"close nav dropdowns"),Eggshell.connect(window.globalChggHeaderSearch,"search field start expanding",Eggshell.find(this),"close menu"),Eggshell.connect(window.globalChggHeaderSearch,"search field collapsed",this.navEvents,"expand navigation items"),void Eggshell.connect(window.globalChggHeaderSearch,"navigation items start expanding",window.globalChggHeaderSearch,"collapse search box"))},this.setSearchType=function(e,t){try{this.searchProfile=JSON.parse(t)}catch(e){"string"==typeof t?this.searchProfile=t:this.searchProfile="federated-auto"}},this.expandSearch=function(){window.globalChggHeaderSearch&&window.globalChggHeaderSearch.trigger("expand search box").trigger("disable auto collapse of searchbox")},this.collapseSearch=function(){window.globalChggHeaderSearch&&window.globalChggHeaderSearch.trigger("collapse search box")},this.hideAllOverlays=function(){window.globalChggHeaderSearch&&window.globalChggHeaderSearch.trigger("close search results"),this.rightSection.trigger("close right section overlays")},this.closeNavDropdowns=function(){this.navEvents.trigger("hide hover items")},this.closeMenu=function(){this.menuEvents.trigger("close")},this.isBase64=function(e){try{return btoa(atob(e))==e}catch(t){return!1}},this.setStructureMenuItems=function(e,t){this.isBase64(t)&&(this.structureMenuItems=JSON.parse(atob(t)))},this.setUserMenuItems=function(e,t){this.userMenuItems=t},this.setMenuSettings=function(e,t){this.menuSettings=t},this.updateUserMenu=function(){Eggshell.find("C.global.cheggheader.rightsection.usermenu").trigger("update template")},this.setNotification=function(e,t){this.notification=t},this.hideSearchBox=function(){$(".chgg-hdr-search-container").addClass("hidden")},this.showSearchBox=function(){this.distractionsHidden||this.noSearch||$(".chgg-hdr-search-container").removeClass("hidden")},this.updateType=function(e,t){for(var i,s=["home","books","study","tutors","testprep","internships","scholarships"],n=0;n<s.length;n++)if(i=$(".type-"+s[n]),i.length>0){i.removeClass("type-"+s[n]).addClass("type-"+t);break}this.navEvents.trigger("refresh nav")},this.setListeners=function(){Eggshell.find(this).on("render",this.render).on("oc search loaded",this.createSearch).on("page refreshed",this.pageRefreshed).on("hide all overlays",this.hideAllOverlays).on("close nav dropdowns",this.closeNavDropdowns).on("close menu",this.closeMenu).on("hide user distractions",this.hideDistractions).on("show user distractions",this.showDistractions).on("update user menu",this.updateUserMenu).on("update type",this.updateType).on("enable translucent background",this.enableTranslucency,this).on("disable translucent background",this.disableTranslucency,this).on("collapse search",this.collapseSearch,this).on("set search on scroll",this.setSearchOnScroll,this).on("set no search",this.setNoSearch,this).on("set search type",this.setSearchType,this).on("set type",this.setType,this).on("set userType",this.setUserType,this).on("set structure menu items",this.setStructureMenuItems,this).on("set user menu items",this.setUserMenuItems,this).on("set menu settings",this.setMenuSettings,this).on("set notification",this.setNotification,this).on("disable constellation",this.disableConstellation,this)},this.setNoSearch=function(e,t){this.noSearch=t,this.noSearch&&this.hideSearchBox()},this.setSearchOnScroll=function(e,t){this.searchOnScroll=t,this.handleScrollChanges(this.scrollEndpoint)},this.setType=function(e,t){this.type=t},this.setUserType=function(e,t){this.userType=t},this.disableConstellation=function(e,t){t&&Eggshell.find(this).off("update type")},this.hideDistractions=function(){this.distractionsHidden=!0,$(".chgg-menu-container").addClass("hidden"),$(".chgg-menu").addClass("hidden"),$(".chgg-hdr-navigation").addClass("hidden"),$(".chgg-hdr-right-section").addClass("hidden"),$(".chgg-hdr-search-container").addClass("hidden")},this.showDistractions=function(){this.distractionsHidden=!1,$(".chgg-menu-container").removeClass("hidden"),$(".chgg-hdr-navigation").removeClass("hidden"),$(".chgg-hdr-right-section").removeClass("hidden"),$(".chgg-hdr-search-container").removeClass("hidden")},this.enableTranslucency=function(){this.translucencyEnabled=!0,$('oc-component[data-name="chegg-header"]').after("<div class='translucent-header'></div>"),this.handleScrollChanges(this.scrollEndpoint)},this.disableTranslucency=function(){this.translucencyEnabled=!1,$(".translucent-header").remove(),$(".chgg-hdr").removeClass("translucent")},this.setupScrollChanges=function(e){$(document).scroll($.proxy(function(){this.handleScrollChanges(e)},this)),this.handleScrollChanges(e)},this.handleScrollChanges=function(e){var t=$(document).scrollTop();t>=e?(this.translucencyEnabled&&($(".chgg-hdr").removeClass("translucent"),$(".chgg-hdr").addClass("easeIn"),$(".chgg-hdr").css("top","0px")),this.showSearchBox()):e>t&&(this.translucencyEnabled&&($(".chgg-hdr").removeClass("easeIn"),$(".chgg-hdr").addClass("translucent")),$(".C-global-cheggheader-searchbox").hasClass("expanded")||(this.searchOnScroll?this.hideSearchBox():this.showSearchBox()))},this.pageRefreshed=function(){this.menuEvents.trigger("refresh menu"),this.navEvents.trigger("refresh nav"),this.rightSection.trigger("page refreshed"),window.globalChggHeaderSearch&&window.globalChggHeaderSearch.trigger("page refreshed"),this.subHeader.trigger("page ajax loaded"),this.closeMenu()},this.initialize=function(){this.scrollEndpoint=30,this.noSearch=!1,this.searchOnScroll=!1,this.userMenuItems={},this.distractionsHidden=$(".chgg-hdr-right-section").hasClass("noDistractions"),this.translucencyEnabled=$(".chgg-hdr").hasClass("translucent"),this.setListeners(),$("a.chgg-logo").click(function(e){var t=$(e.target).attr("class").split(" "),s="";for(i in t)-1!=t[i].indexOf("track-")&&(s=t[i].substr(t[i].indexOf("track-")+6,t[i].length));""!=s&&C.logger.doSessionLog({navigation_click:s+"-logo"})})},this.initialize()}),Eggshell.define("C.global.cheggheader.menu",{inputs:["load events","open","close"],output:["cheggheaderMenuOpened","cheggheaderMenuClosed","open navigation item","open sub navigation item"]},function(e){this.$el=e.targetEl,this.$menu=e.menuEl,this.$combinedMenu=e.combinedMenuEl,this.$splitMenu=e.splitMenuEl,this.type=e.type,this.scrollFocus=null,this.mainMenuContent=".chgg-menu-content",this.mainMenuContentContainer=".chgg-menu-content-container",this.$closeMenuButton=e.closeMenuButtonEl,this.showMenu=function(e){C.logger.doSessionLog({hamburger_open:!0}),$("li.expanded").removeClass("expanded");var t=$(".chgg-menu-item-container."+this.type)[0],i=$(t).closest("li")[0];i&&$(i).addClass("expanded"),$(".chgg-menu-sub-item").fadeIn(),this.$el.addClass("open"),this.$menu.removeClass("hidden"),this.$combinedMenu.animate({left:0}),$(".chgg-menu-overlay").fadeIn(),i&&this.scrollToLi(i,!1),this.scrollFocus&&this.scrollFocus.update(),this.$el.attr("aria-expanded","true"),Eggshell.find(this).trigger("cheggheaderMenuOpened")},this.hideMenu=function(e){this.$el.removeClass("open"),this.$splitMenu.addClass("hidden"),this.$combinedMenu.animate({left:"-277px"},{complete:$.proxy(function(){this.$combinedMenu.addClass("hidden"),$(".chgg-menu-icon",this.$combinedMenu).show()},this)}),$(".chgg-menu-overlay").fadeOut(),$(".chgg-menu-icon",this.$combinedMenu).fadeOut({duration:300}),this.$el.attr("aria-expanded","false"),e&&"keydown"===e.type&&this.$el.focus(),Eggshell.find(this).trigger("cheggheaderMenuClosed")},this.toggleMenu=$.proxy(function(e){this.$el.hasClass("open")?this.hideMenu(e):this.showMenu(e)},this),this.chainedMouseKeyboardEvents=function(e,t){e.mousedown(function(e){e.preventDefault(),$(e.currentTarget).blur(),t(e)}).keydown(function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),e.stopPropagation(),t(e))})},this.nonMenuControlClicked=function(){$("body").mousedown($.proxy(function(e){var t=$(e.target),i=e.target.nodeName;t.hasClass("chgg-menu-container")===!1&&t.hasClass("chgg-menu-icon")===!1&&0===t.closest("a.chgg-menu-item").length&&"A"!==i&&this.hideMenu(e)},this))},this.loadMenuEvents=function(){this.chainedMouseKeyboardEvents(this.$el,this.toggleMenu),this.chainedMouseKeyboardEvents(this.$closeMenuButton,this.toggleMenu),this.loadMobileClickEvents(),this.loadSubMobileClickEvents(),$(".chgg-hdr-content").on("click",".chgg-menu a",function(e){var t=$(e.target),s=t.attr("class");if("undefined"==typeof s||t.hasClass("chgg-menu-image"))var s=t.parent().attr("class").split();else var s=t.attr("class").split();var n="";for(i in s)-1!=s[i].indexOf("track-")&&(n=s[i].substr(s[i].indexOf("track-")+6,s[i].length),n=n.replace(/\s+/g,"-").toLowerCase());""!=n&&C.logger.doSessionLog({hamburger_click:n})}),this.nonMenuControlClicked()},this.loadMobileClickEvents=function(){var e=this;$(this.mainMenuContent).on("mousedown",".chgg-menu-item-expands",$.proxy(function(t){t.stopPropagation();var i=$(t.target),s=i.closest("li")[0];$(".chgg-menu-sub-item").hide(),$(s).hasClass("expanded")?($(s).removeClass("expanded"),e.scrollFocus&&e.scrollFocus.update()):(Eggshell.find(this).trigger("open navigation item",i),$("li.expanded").removeClass("expanded"),$(s).addClass("expanded"),this.scrollToLi(s,!0,function(){e.scrollFocus&&e.scrollFocus.update()}),$(".chgg-menu-sub-item").fadeIn())},this)),$(this.mainMenuContent).on("click","a.full-site",function(){C.utility.setCookie("NO_MDT",1),window.location.reload()})},this.loadSubMobileClickEvents=function(){$(this.mainMenuContent).on("mousedown",".chgg-sub-menu-item-expands",$.proxy(function(e){e.stopPropagation();var t=$(e.target),i=t.closest(".chgg-sub-menu-expands")[0];$(".chgg-sub-menu-sub-item").hide(),$(i).hasClass("show")?$(i).removeClass("show"):(Eggshell.find(this).trigger("open sub navigation item",t),$("div.show").removeClass("show"),$(i).addClass("show"),$(".chgg-sub-menu-sub-item").fadeIn())},this))},this.scrollToLi=function(e,t,i){var s=$(e).position().top,n=$(window).height(),a=n-window.innerHeight,r=s+n+90+a;$(this.mainMenuContent).css("min-height",r),$(".chgg-menu-footer").css("padding-bottom",90+a+"px"),t?$(this.mainMenuContentContainer).animate({scrollTop:s},i):$(this.mainMenuContentContainer).scrollTop(s)},this.refreshMenu=function(){this.hideMenu()},this.updateLabel=function(){C.global.labelUpdate&&$(".chgg-menu-footer-updated span.updated").addClass("show_label")},this.setListeners=function(){Eggshell.find(this).on("load events",this.loadMenuEvents).on("update label",this.updateLabel).on("open",this.showMenu,this).on("close",this.hideMenu,this).on("refresh menu",this.refreshMenu,this)},this.initialize=function(){this.setListeners(),this.$el.removeClass("disabled"),Eggshell.find(this).trigger("update label"),this.scrollFocus=$(this.mainMenuContentContainer).scrollFocus()},this.initialize()}),Eggshell.define("C.global.cheggheader.render",{inputs:["render","expand navigation items"],output:["rendered","renderSubMenu"]},function(e){this.$el=e.targetEl,this.structureMenuItems=e.structureMenuItems,this.settings=e.settings,this.render=function(){_.isEmpty(this.structureMenuItems)!==!0&&(this.isDesktopNavRender()&&(this.desktopNavigation=Eggshell.create("C.global.cheggheader.render.desktop",{targetEl:this.$el,structureMenuItems:this.structureMenuItems,settings:this.settings}).trigger("render")),this.isMobileNavRender()&&(this.mobileNavigation=Eggshell.create("C.global.cheggheader.render.mobile",{targetEl:this.$el,structureMenuItems:this.structureMenuItems,settings:this.settings}).trigger("render")))},this.expandNavigationItem=function(e,t){var i=$(t);this.mobileNavigation.trigger("renderSubMenu",{parent:i.data("parent")})},this.expandSubNavigationItem=function(e,t){var i=$(t);this.mobileNavigation.trigger("renderSubSubMenu",{parent:i.data("parent"),subMenu:i.data("submenu")})},this.isDesktopNavRender=function(){return!!this.settings.renderDesktop},this.isMobileNavRender=function(){return!!this.settings.renderMobile},this.setListeners=function(){Eggshell.find(this).on("render",this.render,this).on("expand navigation items",this.expandNavigationItem,this).on("expand sub navigation items",this.expandSubNavigationItem,this)},this.initialize=function(){this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.render.desktop",{inputs:["render"],output:["rendered"]},function(e){this.$firstEl=$(".chgg-menu-container"),this.$secondEl=$(".chgg-logo"),this.$desktopHumNavEl=$(".split-nav"),this.$desktopNavEl=$(".chgg-hdr-navigation"),this.$el=e.targetEl,this.structureMenuItems=e.structureMenuItems,this.settings=e.settings,this._hamburger_template=_.template('<nav class="chgg-menu split-nav hidden <%- settings.hideDistractions %>"><div class="carrot"><div class="chgg-menu-icon icon-chegg-cancel" role="button" tabindex="0" aria-label="Close Menu."></div></div><ul class="chgg-menu-items"><% _.each(combinedStructure, function(structure, key) { %><% if ( !structure.noMenu ) { %><li class="<%- key %>-wrapper"><a class="chgg-menu-item <%- key %> track-<%- key %>" href="<%- baseUrl %><%- structure.path %>" aria-label="<%- structure.ariaLabel %>"><div class="chgg-menu-image <%- structure.icon %>"></div><span><%- structure.name %></span></a></li><% } %><% }); %></ul></nav>'),this._main_template=_.template('<div class="chgg-hdr-navigation <%- settings.hideDistractions %>"><div class="nav-items <%- settings.type %> <%- settings.subtype %>"><% _.each(structureExpandMenuItems, function(structure, key) { %><% if ( !structure.onlyHamburger ) { %><% if ( !structure.combinedOnly ) { %><% if ( !settings.globalNav ) { %><% if ( structure.newVertical ) { %><div class="nav-item-pipe"></div><% } %><% } %><div class="nav-item <% if (structure.loginRqd) { %>loginRqd<% } %> <% if (structure.expands) { %>has-hover-box<% } %> <%- key %>-item"><% if ( structure.path ) { %><a class="nav-item-header <%- structure.cssClass %> <% if (structure.newLabel) { %>new-label<% } %>" href="<%- baseUrl %><%- structure.path %>" <% if (structure.openInNewTab) { %>target="_blank"<% } %> <% if (structure.expands) { %>aria-expanded="false"<% } %> <% if (structure.ariaLabel) { %>aria-label="<%- structure.ariaLabel %> <% if (structure.expands) { %>menu. Has sub menu.<% } %>"<% } %> tabindex="0"><% } else { %><a class="nav-item-header <%- structure.cssClass %> <% if (structure.newLabel) { %>new-label<% } %>" <% if (structure.expands) { %>aria-expanded="false"<% } %> <% if (structure.ariaLabel) { %>aria-label="<%- structure.ariaLabel %> <% if (structure.expands) { %>menu. Has sub menu.<% } %>"<% } %> tabindex="0"><% } %><%= structure.name %><div class="nav-item-caret icon-chegg-chevron"></div></a><% if ( structure.expands ) { %><div class="nav-hover-box"><div class="carrot"></div><div class="nav-hover-box-section"><div class="links-section"><% _.each(structure.expands, function(subStructure, subKey) { %><% if ( !subStructure.splitOnly ) { %><% if ( subStructure.loginRqd ) { %><a class="loginRqd <%- subStructure.cssClass %> <%- subKey %>-item" href="<%- baseUrl %><%- subStructure.path %>"><%= subStructure.name %></a><% } else { %><a class="<%- subStructure.cssClass %> <%- subKey %>-item" href="<%- baseUrl %><%- subStructure.path %>" <% if (subStructure.ariaLabel) { %>aria-label="<%- subStructure.ariaLabel %>"<% } %> ><%- subStructure.name %></a><% } %><% } %><% }); %></div></div></div><% } %></div><% } %><% } %><% }); %></div></div>'),
this.render=function(){this.isElementAvailable(this.$desktopHumNavEl)!==!0&&this.$firstEl.after(this._hamburger_template({baseUrl:C.global.liveSiteUrl,settings:this.settings,combinedStructure:this.structureMenuItems}));var e=this.settings.type,t=this.settings.subtype,i=this._findExpandElement(e,t);!this.isElementAvailable(this.$desktopNavEl)&&i&&this.$secondEl.after(this._main_template({baseUrl:C.global.liveSiteUrl,settings:this.settings,structureExpandMenuItems:i}))},this._findExpandElement=function(e,t){if("string"!=typeof e&&(e=null),"string"!=typeof t&&(t=null),"home"!=e){if(e&&t)return this.structureMenuItems[e]&&this.structureMenuItems[e].expands&&this.structureMenuItems[e].expands[t]&&this.structureMenuItems[e].expands[t].expands?this.structureMenuItems[e].expands[t].expands:!1;if(e)return this.structureMenuItems[e]&&this.structureMenuItems[e].expands?this.structureMenuItems[e].expands:!1}return this.structureMenuItems},this.setListeners=function(){Eggshell.find(this).on("render",this.render,this)},this.initialize=function(){this.setListeners()},this.initialize(),this.isElementAvailable=function(e){return!!this.$el.find(e).length}}),Eggshell.define("C.global.cheggheader.render.mobile",{inputs:{render:{payload:null},renderSubMenu:{payload:{parent:null}},renderSubSubMenu:{payload:{parent:null,subMenu:null}}},output:["rendered"]},function(e){this.$stickEl=$(".chgg-logo"),this.combineNav=".combined-nav",this.userMenu=this.combineNav+" .chgg-menu-user-info",this.mainItems=this.combineNav+" .chgg-menu-items",this.subMenuItems=this.mainItems+" .chgg-menu-sub-item-container",this.subMenuSubItems=this.subMenuItems+" .chgg-sub-menu-sub-item-container",this.$el=e.targetEl,this.structureMenuItems=e.structureMenuItems,this.settings=e.settings,this._templateLayer=_.template('<nav class="chgg-menu combined-nav hidden <%- settings.hideDistractions %>"><div class="carrot"><div class="chgg-menu-icon icon-chegg-cancel" role="button" tabindex="0" aria-label="Close Menu."></div></div><div class="chgg-menu-content-container"><div class="chgg-menu-content"></div></div><div class="chgg-menu-overlay"></div></nav>'),this._templateUserMenu=_.template('<div class="chgg-menu-user-info"></div><div class="chgg-menu-footer"><p id="chgg-copyright" class="note">&copy; 2003-<%= settings.year %> Chegg Inc. All rights reserved.</p><p id="chgg-privacy-tou"><span><a href="<%- baseUrl %>privacypolicy" class="privacy-button track-privacy">Privacy</a></span><span>&</span><span class="updated"><a href="<%- baseUrl %>termsofuse" class="tou-button track-tou">Terms</a></span><span>|</span><span><a href="javascript:;" class="full-site track-full-site">View desktop site</a></span></p></div>'),this._templateLOB=_.template('<ul class="chgg-menu-items"><% _.each(combinedStructure, function(structure, key) { %><% if ( !structure.splitOnly ) { %><% if ( !structure.noMenu ) { %><li><div class="li-item-content"><div class="chgg-menu-item-container <%- key %> track-<%- key %>"><% if ( structure.expands ) { %><div class="chgg-menu-item-expands"><div class="chgg-menu-pipe"></div><div class="chgg-menu-image icon-chegg-chevron" data-parent="<%- key %>"></div></div><% } %><a class="chgg-menu-item track-<%- key %>" href="<%- baseUrl %><%= structure.path %>"><div class="chgg-menu-image <%= structure.icon %>"></div><span><%= structure.name %></span></a></div></div></li><% } %><% } %><% }); %></ul>'),this._templateSubMenu=_.template('<div class="chgg-menu-sub-item-container <%- key %> track-<%- key %>"><% _.each(structure, function(subStructure, subKey) { %><% if ( !subStructure.splitOnly ) { %><% if ( !subStructure.noMobile ) { %><a class="chgg-menu-sub-item <%- subKey %>-item track-<%- subKey %>" href="<%- baseUrl %><%= subStructure.path %>"><%= subStructure.name %></a><% if ( subStructure.expands ) { %><div class="chgg-sub-menu-expands absolute"><div class="chgg-sub-menu-item-expands"><div class="chgg-menu-pipe"></div><div class="chgg-menu-image icon-chegg-chevron chevron-grey" data-parent="<%- key %>" data-submenu="<%- subKey %>"></div></div></div><% } %><% } %><% } %><% }) %></div>'),this._templateSubSubMenu=_.template('<div class="chgg-sub-menu-sub-item-container <%- key %>"><% _.each(structure, function(subStructure, subKey) { %><% if ( !subStructure.splitOnly ) { %><a class="<% if (subStructure.loginRqd) { %>loginRqd<% } %> chgg-sub-menu-sub-item <%- subStructure.cssClass %> <%- key %>-item" href="<%- baseUrl %><%- subStructure.path %>" <% if (subStructure.openInNewTab) { %>target="_blank"<% } %> ><%= subStructure.name %></a><% } %><% }) %></div>'),this.render=function(){Eggshell.find(this).trigger("renderInitLayer").trigger("renderLOB").trigger("renderUserMenu"),this.settings.type&&(Eggshell.find(this).trigger("renderSubMenu",{parent:this.settings.type}),this.settings.subtype&&Eggshell.find(this).trigger("renderSubSubMenu",{parent:this.settings.type,subMenu:this.settings.subtype}))},this.renderInitLayer=function(){this.isElementAvailable(this.combineNav)||this.$stickEl.before(this._templateLayer({settings:this.settings})),this.$mainLevel=$(".chgg-menu-content")},this.renderLOB=function(){this.isElementAvailable(this.mainItems)||this.$mainLevel.append(this._templateLOB({baseUrl:C.global.liveSiteUrl,settings:this.settings,combinedStructure:this.structureMenuItems}))},this.renderUserMenu=function(){this.isElementAvailable(this.userMenu)||this.$mainLevel.append(this._templateUserMenu({baseUrl:C.global.liveSiteUrl,settings:this.settings}))},this.renderSubMenu=function(e,t){var i=this._findExpandElement(t.parent);i&&(this.isElementAvailable(this.subMenuItems+"."+t.parent)||$(".chgg-menu-item-container."+t.parent).parents("li").append(this._templateSubMenu({baseUrl:C.global.liveSiteUrl,settings:this.settings,key:t.parent,structure:i})))},this.renderSubSubMenu=function(e,t){var i=this._findExpandElement(t.parent,t.subMenu);i&&(this.isElementAvailable(this.subMenuSubItems+"."+t.subMenu)||$(".chgg-menu-sub-item."+t.subMenu+"-item + .chgg-sub-menu-expands").addClass("show").append(this._templateSubSubMenu({baseUrl:C.global.liveSiteUrl,settings:this.settings,key:t.subMenu,structure:i})))},this._findExpandElement=function(e,t){return"string"!=typeof e&&(e=null),"string"!=typeof t&&(t=null),e&&t?this.structureMenuItems[e]&&this.structureMenuItems[e].expands&&this.structureMenuItems[e].expands[t]&&this.structureMenuItems[e].expands[t].expands?this.structureMenuItems[e].expands[t].expands:!1:e?this.structureMenuItems[e]&&this.structureMenuItems[e].expands?this.structureMenuItems[e].expands:!1:this.structureMenuItems},this.setListeners=function(){Eggshell.find(this).on("renderInitLayer",this.renderInitLayer,this).on("renderLOB",this.renderLOB,this).on("renderUserMenu",this.renderUserMenu,this).on("renderSubMenu",this.renderSubMenu,this).on("renderSubSubMenu",this.renderSubSubMenu,this).on("render",this.render,this)},this.initialize=function(){this.setListeners()},this.initialize(),this.isElementAvailable=function(e){return!!this.$el.find(e).length}}),Eggshell.define("C.global.cheggheader.navigation",{inputs:["load events","hide hover items"],output:[]},function(e){this.$el=e.targetEl,this.$KEY_VALUES=e.KEY_VALUES,this.setDefaultSelection=function(e){this.$el.find(".nav-item").removeClass("highlight-item");var t=e?e:window.location.pathname,i=window.location.hash,s=window.location.hostname,n="",a="";$(".type-home").length>0?(n=-1!==t.indexOf("/books")||-1!==t.indexOf("/textbooks")||-1!==t.indexOf("/sell-textbooks")||-1!==t.indexOf("/bookstore")||-1!==t.indexOf("/occp")||-1!==t.indexOf("/etextbooks")||-1!==t.indexOf("/shoppingcart")||-1!==t.indexOf("/used-textbooks")||-1!==t.indexOf("/cheap-textbooks")||-1!==t.indexOf("college-textbooks")?".books-item":n,n=-1!==t.indexOf("/study")||-1!==t.indexOf("/search")&&-1!==t.indexOf("/textbook-solutions")||-1!==t.indexOf("/search")&&-1!==t.indexOf("/questions-and-answers")||-1!==t.indexOf("/csorderconfirm")||-1!==t.indexOf("/my/expertqa")||-1!==t.indexOf("/homework-help")?".study-item":n,n=-1!==t.indexOf("/studystarter")?"":n,n=-1!==t.indexOf("/tutoringpolicy")||-1!==t.indexOf("/search")&&-1!==t.indexOf("/tutors")?".tutors-item":n,n=-1!==t.indexOf("/test-prep")?".test-prep-item":n,n=-1!==t.indexOf("/internships/")||-1!==t.indexOf("/career-cente")?".internships-item":n,n=-1!==t.indexOf("/schools")||-1!==t.indexOf("/admissions")||-1!==t.indexOf("/scholarships")||-1!==t.indexOf("/major")?".scholarships-item":n):$(".type-books").length>0?(n=-1!==t.indexOf("/books")||-1!==t.indexOf("/textbooks/")&&"/textbooks/"!==t||-1!==t.indexOf("/shoppingcart")||-1!==t.indexOf("/checkout/")||-1!==t.indexOf("/occp")?".rent-buy-item":n,n=-1!==t.indexOf("/books")&&-1!==i.indexOf("sell")||-1!==t.indexOf("/sell-textbooks")||-1!==t.indexOf("/selltextbooks")?".sell-item":n):$(".type-study").length>0?(n=".home-item",n=-1!==t.indexOf("/study/textbook-solutions")||-1!==t.indexOf("/study/tbs")||-1!==t.indexOf("/homework-help/textbook-solutions")?".tbs-item":n,n=-1!==t.indexOf("/study/questions-and-answers")||-1!==t.indexOf("/study/qa")||-1!==t.indexOf("/homework-help/questions-and-answers")?".qa-item":n,n=-1!==t.indexOf("/study/practice")?".practice-item":n):$(".type-tutors").length>0?(n=-1!==t.indexOf("/tutors/pricing/")?".pricing-item":n,n=-1!==t.indexOf("/tutors/parents/")?".parents-item":n,n=-1!==t.indexOf("/tutors/lessons/")?".dashboard-item":n):$(".type-testprep").length>0?(n=".home-item",n=-1!==t.indexOf("/test-prep/act")?".act-prep-item":n,n=-1!==t.indexOf("/test-prep/sat")?".sat-prep-item":n,n=-1!==t.indexOf("/test-prep/pricing")?".pricing-item":n,n=-1!==t.indexOf("/parents/test-prep")?".parents-item":n,n=-1!==t.indexOf("/test-prep/act")?".act-item":n,n=-1!==t.indexOf("/test-prep/free-resources/act")?".act-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/act")?".act-item":a,n=-1!==t.indexOf("/test-prep/sat")?".sat-item":n,n=-1!==t.indexOf("/test-prep/free-resources/sat")?".sat-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/sat")?".sat-item":a,n=-1!==t.indexOf("/test-prep/gre")?".gre-item":n,n=-1!==t.indexOf("/test-prep/free-resources/gre")?".gre-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/gre")?".gre-item":a,n=-1!==t.indexOf("/test-prep/gmat")?".gmat-item":n,n=-1!==t.indexOf("/test-prep/free-resources/gmat")?".gmat-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/gmat")?".gmat-item":a,n=-1!==t.indexOf("/test-prep/mcat")?".mcat-item":n,n=-1!==t.indexOf("/test-prep/free-resources/mcat")?".mcat-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/mcat")?".mcat-item":a,n=-1!==t.indexOf("/test-prep/lsat")?".lsat-item":n,n=-1!==t.indexOf("/test-prep/free-resources/lsat")?".lsat-free-item":n,a=-1!==t.indexOf("/test-prep/free-resources/lsat")?".lsat-item":a,n=-1!==t.indexOf("/test-prep/nclex-rn")?".nclex-rn-item":n,n=-1!==t.indexOf("/test-prep/nclex-pn")?".nclex-pn-item":n,n=-1!==t.indexOf("/test-prep/ap")?".ap-item":n,n=-1!==t.indexOf("/test-prep/asvab")?".asvab-item":n):$(".type-internships").length>0?(n=-1!==t.indexOf("/internships/")?".jobs-item":n,n=-1!==t.indexOf("/career-center")?".career-profiles-item":n,n=-1!==t.indexOf("/advice/career-center/")?".advice-item":n):$(".type-scholarships").length>0?(n=-1!==t.indexOf("/schools")?".explore-item":n,n=-1!==t.indexOf("/admissions/college-list")?".my-list-item":n,n=-1!==t.indexOf("/scholarships")?".scholarships-item":n):$(".type-mathsolver").length>0?(n=-1!==t.indexOf("/math-solver")?".mathsolver-item":n,n=-1!==t.indexOf("/math-solver/my-solutions")?".mysolutions-item":n,n=-1!==t.indexOf("/math-solver/subjects")?".subjects-item":n,n=-1!==t.indexOf("/math-solver/pre-algebra-calculator")?".subjects-item":n,n=-1!==t.indexOf("/math-solver/algebra-calculator")?".subjects-item":n,n=-1!==t.indexOf("/math-solver/pre-calculus-calculator")?".subjects-item":n,n=-1!==t.indexOf("/math-solver/calculus-calculator")?".subjects-item":n,n=-1!==t.indexOf("/math-solver/linear-algebra-calculator")?".subjects-item":n):$(".type-writing").length>0?n=-1!==t.indexOf("/writing")?".writing-item":n:$(".type-flashcards").length>0&&(n=-1!==t.indexOf("/flashcards/create")?".create-item":n,n=-1!==t.indexOf("/flashcards/my-flashcards")?".my-flashcards-item":n),n=-1!==s.indexOf("play.chegg.com")?".play-item":n,n=-1!==t.indexOf("search/homework-help")||-1!==t.indexOf("search/study")||-1!==t.indexOf("search/career-center")||-1!==t.indexOf("search/internships")||-1!==t.indexOf("search/schools")||-1!==t.indexOf("search/admissions")||-1!==t.indexOf("search/majors")?"":n,""!==n&&(this.$el.find(n).addClass("highlight-item"),$(".chgg-menu.combined-nav").find(n).addClass("highlight-item")),""!==a&&$(".chgg-menu.combined-nav").find(a).addClass("highlight-item")},this.centralizeDivsAndCarrots=function(){$(".nav-item").each(function(e){var e=$($(".nav-item")[e]),t=e.width();e.find(".carrot").css({"margin-left":Math.max(t/2,10)}),e.find(".single-box.right").css({"margin-left":t/2-100})})},this.showHoverItems=function(e){$(e.currentTarget).find(".nav-hover-box").css({display:"block"}),$(e.currentTarget).addClass("hover-box-visible"),Eggshell.find(this).trigger("hover menu opened")},this.hideHoverItems=function(e){$(e.currentTarget).find(".nav-hover-box").css({display:"none"}),$(e.currentTarget).removeClass("hover-box-visible")},this.loadHoverEvents=function(){$(this.$el.find(".nav-item")).hover($.proxy(this.showHoverItems,this),this.hideHoverItems)},this.loadClickEvents=function(){this.is_touch_device()?($(window).width()>980&&$(".chgg-hdr-navigation .nav-item").click($.proxy(function(e){if(e.preventDefault(),e.stopPropagation(),$(e.currentTarget).find(".nav-hover-box").is(":visible"))this.hideHoverItems(e);else if($(".nav-hover-box").is(":visible")&&$(".nav-hover-box").css({display:"none"}),this.showHoverItems(e),$(".nav-hover-box").is(":visible"))$(".chgg-hdr-navigation .nav-item").find(".links-section a").click($.proxy(function(e){C.utility.navigate($(e.currentTarget).attr("href"))},this));else{var t=$(e.currentTarget);t.hasClass("tutors-item")&&C.logger.doSessionLog({tutors_nav_clicked:"nav_item"}),C.utility.navigate($(e.currentTarget).find(".nav-item-header").attr("href"))}},this)),$("html").click($.proxy(function(){0==$(".chgg-hdr-navigation .nav-item:hover").length&&$(".chgg-hdr-navigation .nav-hover-box").is(":visible")&&$(".chgg-hdr-navigation .nav-hover-box").css({display:"none"})},this)),$(document).scroll($.proxy(function(){$(".chgg-hdr-navigation .nav-hover-box").is(":visible")&&$(".chgg-hdr-navigation .nav-hover-box").css({display:"none"})},this))):$(".nav-item").each($.proxy(function(e){var e=$($(".nav-item")[e]);e.find(".nav-item-header").click($.proxy(function(e){this.setDefaultSelection($(e.currentTarget).attr("href"))},this)),e.click($.proxy(function(e){this.hideHoverItems(e)},this))},this)),this.$el.find("a").click(function(e){var t=$(e.target).attr("class").split(" "),s="";for(i in t)-1!=t[i].indexOf("link-")&&(s=t[i].substr(t[i].indexOf("link-")+5,t[i].length));""!=s&&($(e.target).parent().closest(".moreitems-item").length?C.logger.doSessionLog({navigation_more_click:s}):C.logger.doSessionLog({navigation_click:s}))})},this.loadKeyboardEvents=function(){$(".has-hover-box .nav-item-header").each($.proxy(function(e){var t=$($(".has-hover-box .nav-item-header")[e]);t.keydown($.proxy(function(e){if(e.keyCode===this.$KEY_VALUES.ENTER||e.keyCode===this.$KEY_VALUES.SPACE){e.preventDefault(),e.stopPropagation();var i=t.parent();return i.hasClass("hover-box-visible")===!1?($(".nav-item.has-hover-box").removeClass("hover-box-visible"),$(".nav-hover-box").css("display","none"),$(".has-hover-box .nav-item-header").attr("aria-expanded","false"),i.addClass("hover-box-visible"),i.find(".nav-hover-box").css("display","block"),t.attr("aria-expanded","true")):(i.removeClass("hover-box-visible"),i.find(".nav-hover-box").css("display","none"),t.attr("aria-expanded","false")),!1}},this))},this))},this.loadEvents=function(){this.is_touch_device()?(this.loadClickEvents(),this.loadKeyboardEvents()):(this.loadHoverEvents(),this.loadClickEvents(),this.loadKeyboardEvents())},this.collapse=function(e){$(".chgg-hdr-navigation").fadeOut(200)},this.expand=function(){$(".chgg-hdr-navigation").show(),Eggshell.find(this).trigger("navigation items expanded")},this.refreshNav=function(){this.setDefaultSelection()},this.is_touch_device=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},this.setListeners=function(){Eggshell.find(this).on("load events",this.loadEvents).on("collapse navigation items",this.collapse,this).on("expand navigation items",this.expand,this).on("hide hover items",this.hideHoverItems,this).on("refresh nav",this.refreshNav,this)},this.initialize=function(){this.centralizeDivsAndCarrots(),this.setListeners(),this.setDefaultSelection()},this.initialize()}),Eggshell.define("C.global.cheggheader.rightsection.cart",{inputs:["render","show","hide"],output:["rendered"]},function(e){this.$el=e.el,this.tmpl='<div class="cart-item nav-item chg-cart-area"><div class="header chg-menu-item track-cart"><span class="chg-cart"></span><span class="chg-cart-count"></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="cart-hover-content hover-box"></div></div>',this.tmpl2='<a class="chg-cart-area track-cart nav-item" rel="nofollow" data-noajax="data-noajax" href="'+C.global.cheggSiteSecureUrl+'shoppingcart/" aria-label="Shopping Cart."><span class="chg-cart"></span><span class="chg-cart-count"></span></a>',this.render=function(){C.global.minicart?(this.$el.append(this.tmpl),this.renderMiniCart(),$(".cart-item",this.$el).on("click",$.proxy(function(e){0==$(e.target).closest(".cart-hover-content, .carrot").length&&C.global.minicart.trigger("show")},this)),$(document).on("click",$.proxy(function(e){0==$(e.target).closest(".nav-item.cart-item").length&&C.global.minicart.trigger("hide")},this))):(this.$el.append(this.tmpl2),C.utility.updateCart())},this.renderMiniCart=function(){C.global.minicart=Eggshell.create("C.global.cheggheader.minicart",{el:$(".cart-hover-content",this.$el)}).trigger("render"),Eggshell.immuneToDestroyAll(C.global.minicart)},this.pageRefreshed=function(){C.global.minicart&&C.global.minicart.trigger("hide")},this.setListeners=function(){Eggshell.find(this).on("render",this.render).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.rightsection.coupon",{inputs:["render","show","hide"],output:["rendered"]},function(e){this.$el=e.el,this.render=function(){this.coupon=Eggshell.create("C.global.coupon",{el:$(".chg-hdr-coupon-area",this.$el)}),Eggshell.immuneToDestroyAll(this.coupon)},this.initialize=function(){Eggshell.find(this).on("render",this.render)},this.initialize()}),Eggshell.define("C.global.cheggheader.rightsection",{inputs:["render","show","hide","close right section overlays"],output:["rendered"]},function(e){this.$el=e.el,this.userMenuItems=e.userMenuItems,this.notification=e.notification,this.type=e.type,this.userType=e.userType,this.settings=e.settings,this.render=function(){this.cart=Eggshell.create("C.global.cheggheader.rightsection.cart",{el:this.$el,KEY_VALUES:e.KEY_VALUES}).trigger("render"),this.notification&&(this.notificationsBlock=Eggshell.create("C.global.cheggheader.rightsection.notifications",{el:this.$el,KEY_VALUES:e.KEY_VALUES}).trigger("render")),this.userMenu=Eggshell.create("C.global.cheggheader.rightsection.usermenu",{el:this.$el,mobileEl:$(".chgg-menu-user-info"),items:this.userMenuItems,KEY_VALUES:e.KEY_VALUES,type:this.type,userType:this.userType,regSource:this.settings.regSource}).trigger("render"),Eggshell.immuneToDestroyAll(this.cart),Eggshell.immuneToDestroyAll(this.userMenu),Eggshell.immuneToDestroyAll(this.notificationsBlock)},this.closeRightSectionOverlays=function(){this.userMenu.trigger("hide menu"),this.notificationsBlock&&this.notificationsBlock.trigger("close notifications overlays")},this.pageRefreshed=function(){this.cart.trigger("page refreshed",this),this.userMenu.trigger("page refreshed",this)},this.setListeners=function(){Eggshell.find(this).on("render",this.render).on("close right section overlays",this.closeRightSectionOverlays,this).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.rightsection.notifications",{inputs:["render"],output:["rendered"]},function(e){this.$el=e.el,this.$KEY_VALUES=e.KEY_VALUES;var t=$("<div class='chg-hdr-notifications embed-js' id='notifications-component'></div>");this.$el.append(t);var i=window.lightningjs.require("notifications");this.start=function(){i("start")},this.render=function(){i("render",t[0]).then(function(){var e=$("#notifications-button");e.attr("tabindex","0"),e.removeAttr("title"),e.attr("aria-label","Notifications Menu. Has sub menu."),e.attr("role","button"),$("#notifications-button").keypress(function(e){return e.stopPropagation(),e.keyCode!==this.$KEY_VALUES.ENTER&&e.keyCode!==this.$KEY_VALUES.E||$("#notifications-icon").click(),!1})}),C.global.userUuid&&this.start(),$("#notifications-icon").click(function(){C.logger.doSessionLog({notification_click:!0})})},this.hideOverlay=function(){i("toggle",!1)},this.setListeners=function(){Eggshell.find(this).on("render",this.render).on("close notifications overlays",this.hideOverlay,this)},this.initialize=function(){C.global.userUuid&&C.global.instaEdu&&this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.rightsection.usermenu",{inputs:["render","show","hide","show menu","hide menu","update template","page refreshed"],output:["rendered"]},function(e){this.$el=e.el,this.$mobileEl=e.mobileEl,this.items=e.items,this.$KEY_VALUES=e.KEY_VALUES,this.type=e.type,this.userType=e.userType,this.regSource=e.regSource,this.signOutTmpl=_.template('<a href="<%- cheggSiteSecureUrl %>login/?<%- regSourceParam %>redirect=<%-encodeURIComponent(location.href)%>" class="signin-item nav-item track-signin">Sign in</a><div class="more-item nav-item"><div class="header" role="button" tabindex="0" aria-label="More Menu, has sub menu" aria-expanded="false"><span class="avatar-placeholder"></span><span class="more-right-section-menu"> More</span><span class="icon-chegg-chevron"></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="more-hover-content hover-box"><ul><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><a href="<%- cheggSiteSecureUrl %><%- itm.path %>"  class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></li><% }); %><% if (this.userType != "tutors-tutor") { %><li><a href="<%- cheggSiteSecureUrl %>returnbooks"  class="track-return-books" data-noajax aria-label="Return books">Return books</a></li><li><a href="<%- cheggSiteSecureUrl %>sell-textbooks"  class="track-sell-books" data-noajax aria-label="Sell books">Sell books</a></li><% } %><li><a href="<%- liveSiteUrl %><%- help %>"  class="track-help" data-noajax aria-label="Help">Help</a></li><li><a href="<%- cheggSiteSecureUrl %>signup/?<%- regSourceParam %>redirect=<%-encodeURIComponent(location.href)%>" class="track-signup" aria-label="Create an account">Create an account</a></li><li><a href="<%- cheggSiteSecureUrl %>login/?<%- regSourceParam %>redirect=<%-encodeURIComponent(location.href)%>" class="track-signin hide-initially" aria-label="Sign in">Sign in</a></li></ul></div></div>'),this.mSignOutTmpl=_.template('<ul><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><a href="<%- cheggSiteSecureUrl %><%- itm.path %>"  class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></li><% }); %><% if (this.userType != "tutors-tutor") { %><li><a href="<%- cheggSiteSecureUrl %>returnbooks"  class="track-return-books" data-noajax>Return books</a></li><li><a href="<%- cheggSiteSecureUrl %>sell-textbooks"  class="track-sell-books" data-noajax>Sell books</a></li><% } %><li><a href="<%- liveSiteUrl %><%- help %>"  class="track-help" data-noajax>Help</a></li><li><a href="<%- cheggSiteSecureUrl %>signup/?<%- regSourceParam %>redirect=<%-encodeURIComponent(location.href)%>" class="track-signup">Create an account</a></li><li><a href="<%- cheggSiteSecureUrl %>login/?<%- regSourceParam %>redirect=<%-encodeURIComponent(location.href)%>" class="signin-item nav-item track-signin">Sign in</a></li></ul>'),this.signInTmpl=_.template('<div class="user-item nav-item"><div class="header" tabindex="0" aria-label="User Menu.  Has sub menu." aria-expanded="false" role="button"><span class="avatar"></span><span class="arrow-down"><span class="icon-chegg-chevron"></span></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="user-hover-content hover-box my-account-v2"><div class="background-avatar"><div class="img-container"><img src="<%- avatar %>"></div></div><a class="profile-link track-profile" href="<%- liveSiteUrl %>my/profile" aria-label="My Profile"></a><div class="profile"><div class="track-user-avatar avatar"></div><div class="info"><a class="name track-my-profile capitalized" href="<%- liveSiteUrl %>my/profile" tabindex="-1"><%- userName %></a><div class="email"><%- userEmail %></div><a class="my-profile track-my-profile vertical-dots" href="<%- liveSiteUrl %>my/profile" tabindex="-1"></a></div></div><div class="custom-user-hover-content"></div><ul><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-my-account"></div></div><a href="<%- cheggSiteSecureUrl %>my/account" class="track-my-account" rel="nofollow">My account</a></div></li><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-<%- itm.classname %>"></div></div><a href="<%- cheggSiteSecureUrl %><%- itm.path %>" class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></div></li><% }); %><% if (this.userType != "tutors-tutor") { %><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-return-books"></div></div><a href="<%- liveSiteUrl %>returnbooks" class="track-return-books" rel="nofollow">Return books</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-sell-books"></div></div><a href="<%- liveSiteUrl %>sell-textbooks" class="track-sell-books" rel="nofollow">Sell books</a></div></li><% } %><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-help"></div></div><a href="<%- liveSiteUrl %><%- help %>" class="track-help" rel="nofollow">Help</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-signout"></div></div><a href="<%- liveSiteUrl %>signout?token=<%- csrfToken %>" class="track-signout" rel="nofollow" data-noajax>Sign out</a></div></li></ul></div></div>'),this.mSignInTmpl=_.template('<a class="profile-link track-profile" href="<%- liveSiteUrl %>my/profile"></a><div class="profile"><div class="mobile-track-user-avatar avatar"></div><div class="info"><a class="name track-my-profile capitalized" href="<%- liveSiteUrl %>my/profile" tabindex="-1"><%- userName %></a><div class="email"><%- userEmail %></div></div></div><ul><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-my-account"></div></div><a href="<%- cheggSiteSecureUrl %>my/account" class="track-my-account" rel="nofollow">My account</a></div></li><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-<%- itm.classname %>"></div></div><a href="<%- cheggSiteSecureUrl %><%- itm.path %>" class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></div></li><% }); %><% if (this.userType != "tutors-tutor") { %><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-return-books"></div></div><a href="<%- liveSiteUrl %>returnbooks" class="track-return-books" rel="nofollow">Return books</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-sell-books"></div></div><a href="<%- liveSiteUrl %>sell-textbooks" class="track-sell-books" rel="nofollow">Sell books</a></div></li><% } %><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-help"></div></div><a href="<%- liveSiteUrl %><%- help %>" class="track-help" rel="nofollow">Help</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-signout"></div></div><a href="<%- liveSiteUrl %>signout?token=<%- csrfToken %>" class="track-signout" rel="nofollow" data-noajax>Sign out</a></div></li></ul>'),this.showMenu=function(){$(".nav-item.user-item, .nav-item.more-item",this.$el).addClass("active")},this.hideMenu=function(){$(".nav-item.user-item, .nav-item.more-item",this.$el).removeClass("active")},this.getUser=function(){var e=C.utility.getCookie("SU")||"loggedOutUser";C.global.userEmail&&C.global.userAvatar?($(".chgg-hdr").addClass("loggedIn"),C.global.loggedIn=!0,this.render()):$.ajax({url:C.global.cheggSiteSecureUrl+"_ajax/header/global/user",type:"post",dataType:"json",data:{SU:e,token:C.global.csrfToken},xhrFields:{withCredentials:!0},context:this,success:function(e){null!==e&null!==e.user?($(".chgg-hdr").addClass("loggedIn"),C.global.loggedIn=!0,C.global.userFirstName="undefined"!=typeof e.user.fname?e.user.fname:"",C.global.userLastName=e.user.lname?e.user.lname:"",C.global.userEmail=e.user.email,C.global.userAvatar=e.user.avatar,C.global.userUuid=e.user.uuid):C.global.loggedIn=!1,this.render()},error:function(e){C.global.loggedIn=!1,this.render()}})},this.nonMenuControlClicked=function(){$("body").mousedown($.proxy(function(e){0==$(e.target).closest(".nav-item.user-item, .nav-item.more-item").length&&$(".nav-item",this.$el).removeClass("active")},this))},this.getRegSourceParam=function(){return this.regSource?"regSource="+encodeURIComponent(this.regSource)+"&":""},this.render=function(){if(C.global.loggedIn===!1)this.$el.append(this.signOutTmpl({cheggSiteSecureUrl:C.global.cheggSiteSecureUrl,liveSiteUrl:C.global.liveSiteUrl,items:"items"in this.items&&"signedOut"in this.items.items?this.items.items.signedOut:[],help:"help"in this.items?this.items.help:"contactus",regSourceParam:this.getRegSourceParam()})),this.$mobileEl.html(this.mSignOutTmpl({cheggSiteSecureUrl:C.global.cheggSiteSecureUrl,liveSiteUrl:C.global.liveSiteUrl,items:"items"in this.items&&"signedOut"in this.items.items?this.items.items.signedOut:[],help:"help"in this.items?this.items.help:"contactus",regSourceParam:this.getRegSourceParam()}));else{var e=C.global.userFirstName?C.global.userFirstName+" "+C.global.userLastName:"",t="signInTmpl";this.$el.append(this[t]({cheggSiteSecureUrl:C.global.cheggSiteSecureUrl,liveSiteUrl:C.global.liveSiteUrl,csrfToken:C.global.csrfToken,userEmail:C.global.userEmail,userName:e,avatar:C.global.userAvatar,items:"items"in this.items&&"signedIn"in this.items.items?this.items.items.signedIn:[],help:"help"in this.items?this.items.help:"contactus"}));Eggshell.create("C.global.header.avatar",{el:$(".user-item .header .avatar",this.$el)}).trigger("set avatar id",C.global.userUuid).trigger("set size","xsmall").trigger("set shape","circle").trigger("set border").trigger("update avatar image url",C.global.userAvatar),Eggshell.create("C.global.header.avatar",{el:$(".user-item .user-hover-content .profile .avatar",this.$el)}).trigger("set avatar id",C.global.userUuid).trigger("set size","medium").trigger("set shape","circle").trigger("set avatar link url",C.global.liveSiteUrl+"my/profile").trigger("update avatar image url",C.global.userAvatar);
-1!=C.global.userAvatar.indexOf("avatar_unisex.png")&&(this.$el.find(".background-avatar").hide(),this.$el.find(".carrot").css("visibility","visible")),this.$mobileEl.html(this.mSignInTmpl({cheggSiteSecureUrl:C.global.cheggSiteSecureUrl,liveSiteUrl:C.global.liveSiteUrl,csrfToken:C.global.csrfToken,userEmail:C.global.userEmail,userName:e,avatar:C.global.userAvatar,items:"items"in this.items&&"signedIn"in this.items.items?this.items.items.signedIn:[],help:"help"in this.items?this.items.help:"contactus"})),Eggshell.create("C.global.header.avatar",{el:$(".mobile-track-user-avatar",this.$mobileEl)}).trigger("set avatar id",C.global.userUuid).trigger("set size","small").trigger("set shape","circle").trigger("set border").trigger("update avatar image url",C.global.userAvatar)}$(".nav-item.user-item, .nav-item.more-item",this.$el).on("mousedown",function(e){1!=$(e.target).parents(".more-hover-content").length&&1!=$(e.target).parents(".user-hover-content").length&&($(this).toggleClass("active").hasClass("active")&&Eggshell.find("C.global.tutors.chat").trigger("toggle chat list",!1),e.preventDefault(),$(".more-item .header, .user-item .header").blur())}),$(".more-item .header, .user-item .header").keydown($.proxy(function(e){return e.keyCode===this.$KEY_VALUES.ENTER||e.keyCode===this.$KEY_VALUES.SPACE?(e.stopPropagation(),$(e.currentTarget).parent().mousedown(),$(".chgg-hdr-navigation").find(".nav-hover-box").css({display:"none"}),$(".chgg-hdr-navigation").removeClass("hover-box-visible"),"false"==$(e.currentTarget).attr("aria-expanded")?$(e.currentTarget).attr("aria-expanded","true"):$(e.currentTarget).attr("aria-expanded","false"),!1):void 0},this)),this.nonMenuControlClicked(),this.$el.find("a").click(function(e){var t=$(e.target).attr("class").split(" "),s="";for(i in t)-1!=t[i].indexOf("track-")&&(s=t[i].substr(t[i].indexOf("track-")+6,t[i].length));""!=s&&C.logger.doSessionLog({usermenu_click:s})}),$(".chgg-menu-user-info a").click(function(e){var t=$(e.target).attr("class").split(" "),s="";for(i in t)-1!=t[i].indexOf("track-")&&(s=t[i].substr(t[i].indexOf("track-")+6,t[i].length));""!=s&&C.logger.doSessionLog({usermenu_click:s})})},this.updateTemplate=function(){this.$el.find(".name").html(C.global.userFirstName+" "+C.global.userLastName)},this.pageRefreshed=function(){$("a.signin-item").attr("href",C.global.cheggSiteSecureUrl+"login/?"+this.getRegSourceParam()+"redirect="+encodeURIComponent(location.href)),$("a.track-signup").attr("href",C.global.cheggSiteSecureUrl+"signup/?"+this.getRegSourceParam()+"redirect="+encodeURIComponent(location.href)),$("a.track-signin").attr("href",C.global.cheggSiteSecureUrl+"login/?"+this.getRegSourceParam()+"redirect="+encodeURIComponent(location.href))},this.setListeners=function(){Eggshell.find(this).on("show menu",this.showMenu).on("hide menu",this.hideMenu).on("update template",this.updateTemplate).on("render",this.getUser).on("page refreshed",this.pageRefreshed)},this.initialize=function(){this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.kitkat",{inputs:["render","expand search box","collapse search box","hide","show","page refreshed"],output:["rendered","search field expanded","search field collapsed","search field start expanding","search field start collapsing","disable auto collapse of searchbox","enable auto collapse of searchbox"]},function(e){this.$el=e.el,this.distractionsHidden=e.distractionsHidden,this.noSearch=e.noSearch,this.autoCollapse=!0,this.render=function(){this.setAccessibleSearch(),this.setupScrollChanges(this.scrollEndpoint)},this.setAccessibleSearch=function(){var e=$("#se-search-autosuggest .search-input");this.distractionsHidden!==!0&&e.on("focus",$.proxy(function(){this.expand()},this)).on("blur",$.proxy(function(){this.collapse()},this))},this.expand=function(){this.$el.hasClass("expanded")||(this.$el.addClass("expanded"),$(".chgg-hdr-kitkat-content").addClass("expanded"),$("body").addClass("preventScroll"))},this.collapse=function(){this.$el.hasClass("expanded")&&(this.$el.removeClass("expanded"),$(".chgg-hdr-kitkat-content").removeClass("expanded"),$("body").removeClass("preventScroll"))},this.pageRefreshed=function(){this.collapse()},this.setupScrollChanges=function(e){$(document).scroll($.proxy(function(){this.handleScrollChanges(e)},this)),this.handleScrollChanges(e)},this.handleScrollChanges=function(e){var t=$(document).scrollTop();t>=e?$(".chgg-hdr-kitkat-content").addClass("sticky"):e>t&&$(".chgg-hdr-kitkat-content").removeClass("sticky")},this.setListeners=function(){Eggshell.find(this).on("render",this.render,this).on("expand search box",this.expand,this).on("collapse search box",this.collapse,this).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.scrollEndpoint=60,$("body").addClass("responsive-search"),1==$(".chgg-hdr-kitkat-content.small-hero-kit-kat").length?this.scrollEndpoint=160:1==$(".chgg-hdr-kitkat-content.hero-kit-kat").length&&(this.scrollEndpoint=200),this.setListeners()},this.initialize()}),Eggshell.define("C.global.cheggheader.searchbox",{inputs:["render","expand search box","collapse search box","hide","show","page refreshed"],output:["rendered","search field expanded","search field collapsed","search field start expanding","search field start collapsing","disable auto collapse of searchbox","enable auto collapse of searchbox"]},function(e){this.$el=e.el,this.distractionsHidden=e.distractionsHidden,this.noSearch=e.noSearch,this.autoCollapse=!0,this.setSearch=function(e,t){var i="";if(t.ajaxEndpoint)switch(t.ajaxEndpoint){case"/_ajax/search/globallist":i=0===t.tbscount?"textbooks-auto":"federated-auto";break;case"/_ajax/search/tbsserp":i="tbs-book-auto";break;case"/_ajax/search/qnaserp":i="questions-auto";break;case"/_ajax/search/tutors/subjects":i="tutors-auto";break;default:i="federated-auto"}else i=t;this.searchRender={profile:i}},this.render=function(){this.placeholderText="Find books, solutions, tutors and more...","flashtools-auto"==this.searchRender.profile&&(this.placeholderText="Find over 500 million flashcards");var e='<a class="chgg-logo home" href="/"></a><a class="chgg-logo books" href="/books"></a><a class="chgg-logo study" href="/study"></a><a class="chgg-logo tutors" href="/tutors"></a><a class="chgg-logo testprep" href="/test-prep"></a><a class="chgg-logo internships" href="/internships/"></a><a class="chgg-logo scholarships" href="/scholarships"></a><a class="chgg-logo flashcards" href="/flashcards"></a><a class="chgg-logo workshop" href="/workshop"></a>';this.$el.append('<div class="chg-header-autosuggest"><div class="chg-search-content">'+e+'</div><div class="overlay-wrapper"><div class="hidden-overlay"></div></div></div>');var t='<form class="chg-search-form" action="/search" onsubmit="return false"><input id="header-autosuggest-input" name="autosuggest-input" class="header-autosuggest autosuggest-input-field form-input-sm" type="text"autocomplete="off" placeholder="Search"><a data-type="button" class="autosuggest-search-btn search-magnify-btn" id="header-search-button" tabindex="0" aria-label="Search" role="button"><span class="icn-magnify">SEARCH</span><span class="icon-chegg-search"></span></a><a class="autosuggest-search-cancel search-magnify-btn-close autosuggest-search-cancel" tabindex="0"></a></form><div class="autosuggest-input-search-container"></div><a href="#" class="search-close"><span class="icon-chegg-cancel"></span></a>';$(".chg-header-autosuggest .chg-search-content",this.$el).append(t),this.searchRender.target=$(".chgg-hdr .autosuggest-input-field");var i=window.cev||new Events;window.cev=window.cev||i,window.cev.addEvent("searchLoad:once",$.proxy(function(e){this.autosuggestWidget||(this.autosuggestWidget=Eggshell.create("C.common.search",{el:$(".autosuggest-input-search-container",this.$el)}).trigger("render with profile id",this.searchRender),Eggshell.immuneToDestroyAll(this.autosuggestWidget),$(".open-chegg-oc-search").length&&(this.FederatedSearchbar=Eggshell.create("C.search.mobile.FederatedSearchbar")),C.global.headerAutosuggest=this.autosuggestWidget,$(window).click($.proxy(function(){this.autosuggestWidget.trigger("hide results")},this)),$(".chg-header-autosuggest",this.$el).on("click",function(e){e.stopPropagation()}),$(".hidden-overlay",this.$el).on("click",$.proxy(function(){this.expand(),Eggshell.find("C.search.trackid").on("track ids",$.proxy(function(e,t){this.trackId=t.trackid,this.strackId=t.strackid},this)).trigger("interacting with autosuggest").trigger("get track ids"),this.firehoseComponent=Eggshell.create("C.search.firehose"),this.firehoseComponent.trigger("firehose search event",{ajaxData:{query:"",trackid:this.trackId,strackid:this.strackId,search_data:JSON.stringify({profile:"",chgsec:"nav",chgsubcomp:"as"}),event:"click_search_box"},results:null}),$("#header-autosuggest-input, .autosuggest-input-field",this.$el).focus(),$(".chgg-hdr-right-section").addClass("transparent")},this)),$(document).on("click",$.proxy(function(e){1==$(".chg-header-autosuggest",this.$el).not($(e.target).closest(".C-global-cheggheader-searchbox").find(".chg-header-autosuggest")).length&&this.autoCollapse&&this.collapse()},this)),$(".search-close").on("click",$.proxy(function(e){e.preventDefault(),this.collapse()},this)),this.Eggshell.trigger("rendered"))},this)),this.populateInputField(),this.setAccessibleSearch()},this.setAccessibleSearch=function(){var e=$("#header-autosuggest-input"),t=$("#header-search-button"),i=$(".chgg-hdr-search-container"),s=($(".chgg-hdr-search-container .hidden-overlay"),$(".C-global-cheggheader-searchbox"));i.css("opacity","0"),this.distractionsHidden!==!0&&(this.showHeadSearchContainer=function(){setTimeout(function(){i.css("opacity","1")},10)},this.hideHeadSearchContainer=function(){i.hasClass("hidden")===!0&&s.hasClass("expanded")===!1&&i.css("opacity","0")},this.setOpacity=function(e){e.hasClass("hidden")===!1&&"0"===e.css("opacity")?this.showHeadSearchContainer():e.hasClass("hidden")===!0&&"1"===e.css("opacity")&&this.hideHeadSearchContainer()},this.setOpacity(i),e.on("focus",$.proxy(function(){this.showHeadSearchContainer()},this)).on("blur",$.proxy(function(){this.hideHeadSearchContainer()},this)),t.on("focus",$.proxy(function(){this.showHeadSearchContainer()},this)).on("blur",$.proxy(function(){this.hideHeadSearchContainer()},this)),$(window).on("scroll",$.proxy(function(){this.setOpacity(i)},this)))},this.expand=function(){this.$el.hasClass("expanded")||this.$el.hasClass("animate")||(this.Eggshell.trigger("search field start expanding"),$(".C-global-cheggheader-searchbox").css({width:$(".chg-search-content").width()}),setTimeout($.proxy(function(){this.$el.addClass("animate"),$(".C-global-cheggheader-searchbox").animate({width:"580px"},400,$.proxy(function(){$(".C-global-cheggheader-searchbox").css({width:""}),this.$el.addClass("expanded"),this.$el.removeClass("animate"),$("#header-autosuggest-input, .autosuggest-input-field").attr("placeholder",this.placeholderText),this.Eggshell.trigger("search field expanded"),$(".chgg-hdr-right-section").attr("margin-top: -50px")},this))},this),100))},this.collapse=function(){this.$el.hasClass("expanded")&&!this.$el.hasClass("animate")&&(this.$el.addClass("animate"),this.Eggshell.trigger("search field start collapsing"),$(".C-global-cheggheader-searchbox").animate({width:$(document).width()<=1045?"204px":"260px"},0,$.proxy(function(){$(".C-global-cheggheader-searchbox").css({width:""}),this.$el.removeClass("expanded animate"),this.$el.find("#header-autosuggest-input, .autosuggest-input-field").attr("placeholder","Search"),this.Eggshell.trigger("search field collapsed"),$(".chgg-hdr-right-section").attr("margin-top: 4px")},this)),$(".chgg-hdr-right-section").removeClass("transparent"))},this.closeSearchResults=function(){this.autosuggestWidget&&this.autosuggestWidget.trigger("hide results")},this.disableAutoCollapse=function(){this.autoCollapse=!1},this.enableAutoCollapse=function(){this.autoCollapse=!0},this.populateInputField=function(){var e=location.pathname.split("/"),t=e[1];if("search"===t&&"undefined"!=typeof e[2]){var i=decodeURIComponent(e[2]);this.$el.find(".header-autosuggest").val(i)}if("flashcards"===t&&"undefined"!=typeof e[2]&&"search"===e[2]&&"undefined"!=typeof e[3]){var i=decodeURIComponent(e[3]);this.$el.find(".header-autosuggest").val(i)}},this.pageRefreshed=function(){this.populateInputField(),this.collapse()},this.setListeners=function(){Eggshell.find(this).on("render",this.render,this).on("set search type",this.setSearch,this).on("expand search box",this.expand,this).on("collapse search box",this.collapse,this).on("close search results",this.closeSearchResults,this).on("enable auto collapse of searchbox",this.enableAutoCollapse,this).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()});}