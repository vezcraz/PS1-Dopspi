window.CheggFooter_Define = function($,jQuery,_,Backbone,Eggshell){Eggshell.define("C.chegg.footer",{inputs:{},outputs:{},newNode:!1},function(){var e=Backbone.Model.extend({defaults:{cheggSiteUrl:"//www.chegg.com/"}});return Backbone.View.extend({events:{"click .section-title":"toggleNav","click .chg-footer-nav-column [data-log]":"_logger","keyup .chg-footer-nav-column [data-log]":"_loggerKey"},initialize:function(t){this.model=new e(t),this.lazyLoadImages()},render:function(){this.loadImages(),this.labelUpdate()},toggleNav:function(e){var t=$(e.target);t.hasClass("target")?t.toggleClass("target"):(this.$el.find(".section-title").removeClass("target"),t.addClass("target"))},lazyLoadImages:function(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",this.render):this.render()},loadImages:function(){$.each($(".C-chegg-footer[data-img-src], .C-chegg-footer [data-img-src]"),function(e,t){var o=$(t),a=o.attr("data-img-src");o.attr("src",a),o.removeAttr("data-img-src")}),$.each($(".C-chegg-footer[data-background-src], .C-chegg-footer [data-background-src]"),function(e,t){var o=$(t),a=o.attr("data-background-src");o.css("background-image","url("+a+")"),o.removeAttr("data-background-src")})},labelUpdate:function(){C.global.hasOwnProperty("labelUpdate")&&C.global.labelUpdate&&this.$el.find(".label_updated").addClass("show_updated")},_loggerKey:function(e){32===e.keyCode&&this._logger(e)},_logger:function(e){var t=$(e.currentTarget),o=t.attr("href"),a={footer_cta_click:t.attr("data-log")};e.stopPropagation(),e.preventDefault(),window.C&&C.logger&&C.logger.doSessionLog?C.logger.doSessionLog(a,function(){C.utility.navigate(o)}):this.doLog(a,function(){window.location.href=o})},doLog:function(e,t,o){if(null!==e){e.page_track_id=window.C&&C.logger&&C.logger.pageTrackId,e.referrer_url=window.C&&C.logger&&C.logger.referrer_url,e.destination_url=window.location.href,e.type="session";var a=this.model.get("cheggSiteUrl");$.ajax({url:a+"_ajax/log",type:"GET",data:{type:e.type,value:JSON.stringify(e),options:o},xhrFields:{withCredentials:!0},success:function(){},error:function(e){console.log(e.responseText)},complete:function(){"function"==typeof t&&t()}})}},destroy:function(){}})}());}