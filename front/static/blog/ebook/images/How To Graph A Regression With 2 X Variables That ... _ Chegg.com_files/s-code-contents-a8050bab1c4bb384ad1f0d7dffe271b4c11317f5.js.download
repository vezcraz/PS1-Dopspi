/*********** Begin Chegg.com AppMeasurement code file ************/
/*
 code version - update this date whenever making changes to this file
*/

var s_code_version = "CH|v20190614";


/*
 logic below looks at several elements to decide where to send data inside Analytics
 */
/* determine DTM staging/production environment and app/web platform*/


var env = _satellite.settings.isStaging === true ? 'stage' : 'prod';

var s_account = env == "prod" ? 'cheggincglobal' : 'cheggincdev';

if (document.URL.indexOf("cheggnet.com/flashcards") !== -1) {
    s_account += ",chegginccheggpreptest";
} else if (document.URL.indexOf("chegg.com/flashcards") !== -1) {
    s_account += ",cheggincprodvalidation";
}


var s=s_gi(s_account)

//s_account = s.account;  // hack to fix some issues with legacy implementation

function isInNativeApp() {
    if ((!!window.KERMIT_PARAMS && window.KERMIT_PARAMS.is_in_app)||(typeof C !== "undefined"&&typeof C.Kermit!== "undefined"&&typeof C.Kermit.shell !== "undefined")) {
        return true;
    } else {
        try {
            if (!!parent.KERMIT_PARAMS && parent.KERMIT_PARAMS.is_in_app) {
                return true;
            }
        }
        catch (e) {
            // do nothing
        }
        return false;
    }
}
/*
 put any global config information and variables here
 */
/* turn on use of plugins */
s.usePlugins = true;

/* general config */
s.linkTrackVars="eVar3,eVar4,eVar5,eVar7,eVar11,eVar12,eVar39,eVar49,prop5,prop6,prop7,prop11,prop20,prop32,prop75"
s.linkTrackEvents="None"
s.fpCookieDomainPeriods = "2"
s.currencyCode="USD"

/* Time Parting Plugin Config, for daylight savings time */
s._tpDST = {
    2015:'3/8,11/1',
    2016:'3/13,11/6',
    2017:'3/12,11/5',
    2018:'3/11,11/4',
    2019:'3/10,11/3'}

/* performance tracking config */
s.pte = 'event401,event402,event403,event404,event405,event406,event407,event408,event409,event410';
s.ptc = false;

//ClickTale Integration Start
function clickTaleGetUID_PID() {
    if (document.cookie.indexOf("WRUID") > -1 && document.cookie.indexOf("WRIgnore=true") == -1) {
        var ca = document.cookie.split(';');
        var PID = 0, UID = 0;
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf("CT_Data") > -1) PID = c.substring(c.indexOf("apv_")).split("_")[1];
            if (
                ((document.cookie.match(/WRUID/g) || []).length == 1 && c.indexOf("WRUID") > -1) ||
                (c.indexOf("WRUID") > -1 && (document.cookie.match(/WRUID/g) || []).length > 1 && c.indexOf("WRUID=") == -1)
            )
                UID = c.split("=")[1];
        }
        return (UID == 0 || PID == 0) ? null : (UID + "." + PID);
    }
    else
        return null;
}
var clickTaleValues = clickTaleGetUID_PID();
if (clickTaleValues != null) {
    s.eVar78 = clickTaleValues;
}

/* Media Module Conf Mile Stones*/
s.loadModule("Media");
s.Media.onLoad = function(s,m) {
    s.Media.autoTrack= false;
    s.Media.trackWhilePlaying=true;
    s.Media.trackVars="events,eVar105,eVar106,eVar107";
    s.Media.trackEvents="event115,event116,event117,event118,event119";
    s.Media.trackMilestones="25,50,75";
    s.Media.segmentByMilestones = true;
    s.Media.trackUsingContextData = true;
    s.Media.contextDataMapping = {
      "a.media.name":"eVar106",
      "a.media.segment":"eVar107",
      "a.media.view":"event115",
      "a.media.complete":"event116",
      "a.media.milestones":{
         25:"event117",
         50:"event118",
         75:"event119"
        }
     };
};
/* End of Media Module Conf Mile Stones*/

//ClickTale Integration End

// setting chegganalytics cookie values for Chegg authentication, 
// signup and add to cart functionality
s.analyticsCookie = "chegganalytics";
function cheggAnalytics() {
  this.triggerEvent = function(data) {
    _satellite.notify("++++ CheggAnalytics Trigger Event  +++++ "+JSON.stringify(data));
         if (window.document.URL.indexOf('flashcards') > -1) {
            var cheggAnalyticsEvents = JSON.stringify(data);
            //Chegganalytics event cookie t() call
            if (typeof cheggAnalyticsEvents !== 'undefined' && cheggAnalyticsEvents !== '') {
                var cheggAnalyticsJSON = JSON.parse(cheggAnalyticsEvents);
                cheggAnalyticsJSON.forEach(function (eachEvent) {
                    //addCustomFlashCardEvt(eachEvent);
                    var eventID =   eachEvent.eventID;
                    var eventValue = eachEvent.eventValue;
                    var eventName = eachEvent.eventName;
                    if(typeof eachEvent.profile !== 'undefined' && typeof eachEvent.profile.encEmailAddress !== "undefined")
                    {
                      
                      var encProfile = eachEvent.profile.encEmailAddress+";"+eachEvent.profile.regSourceProduct+";"+eachEvent.profile.schoolType+";"+eachEvent.profile.userType+";"+eachEvent.profile.encUserId;
                      s.prop72=encProfile;
                      _satellite.notify("++++ CheggAnalytics Profile Event  +++++"+encProfile);
                    }  
                    s.events =s.linkTrackEvents = eventID;
                    s.linkTrackVars =  'events';                 
                    s.eVar36 = eventValue;
                    s.linkTrackVars = s.apl(s.linkTrackVars, 'eVar36,prop72', ",", 2);

                });
            }
            s.tl(true,'o','Custom link Tracking');
        }
        else{
          this.setCookie(data);
        }
    
  }
  this.setCookie = function (data) {
        if (_satellite.getVar("oneTrustPerformanceCookie")) {
            var date = new Date();
            var expiryMin = 1; //cookie expiry duration in mins.
            date.setTime(date.getTime() + (expiryMin * 60 * 1000));
            s.Util.cookieWrite(s.analyticsCookie, JSON.stringify(data), date);
        }    
  }
  this.deleteCookie = function(cookie) {
    s.Util.cookieWrite(cookie, "", new Date().getTime() + (-1 * 60 * 1000));
  }
  this.readCookie = function(cookie) {


        return s.Util.cookieRead(cookie);
  }
  this.registerCallback = function(callback){
    s.registerPostTrackCallback(callback);
    _satellite.notify('Register posttrackcallback called... ');
  }
  this.getAVIDFromCookie = function() {
    v_c = "AMCV_3FE7CBC1556605A77F000101%40AdobeOrg";
    try {
      c_v = s.cookieRead(decodeURIComponent(v_c)); 
      if (typeof c_v != "undefined" && c_v != "")
        return c_v.split('|')[4];
      else
        return '';
    }
    catch (e) {
      s.eVar202 = 'Exception from reading visitor id from cookie' + e;
    }
  }
}

//Initialize cheggAnalyticsUtils
window.cheggAnalyticsUtils = new cheggAnalytics();


/*
 s_doPlugins Start
 put code in the below function to execute on every server call
 */
function s_doPlugins(s) {
    // marketing campaigns
    if(!s.campaign){
        s._utm_source=s.Util.getQueryParam('utm_source');
        s._utm_medium=s.Util.getQueryParam('utm_medium');
        s._utm_content=s.Util.getQueryParam('utm_content');
        s._utm_campaign=s.Util.getQueryParam('utm_campaign');
        s.campaign=s._utm_source + "|" + s._utm_medium + "|" + s._utm_content + "|" + s._utm_campaign;
        if(s.campaign === "|||"){s.campaign = ""};
    }
    /* track internal campaigns */
    var intcidCookieValue = s.getIntcidValue();
    s._internalCampaign = intcidCookieValue && intcidCookieValue.length > 0 ? intcidCookieValue : s.Util.getQueryParam('intcid');
    if (s._internalCampaign && s._internalCampaign.length > 0) {
        s.events = s.apl(s.events, "event75", ",", 2);
        s.eVar33 = s._internalCampaign;
        s.cleanIntcidValue();
    }
    s.setIntcidListeners();
      
     /*cart latency calculation*/
    if(_satellite.getVar('pageName') == "chegg|web|tb|tb shopping cart" && !_satellite.readCookie('cartExist'))
      {
         if(_satellite.getVar("oneTrustPerformanceCookie")) {
              _satellite.setCookie('cartExist', true, 15);
              var firstAddToCart = new Date();
              _satellite.setCookie('t1', firstAddToCart, 15);
          }   

      }
    if(s.events  && s.events.indexOf('purchase')>-1 && _satellite.readCookie('t1')) {
        var orderPurchase = new Date();
        var firstTimeCart = Date.parse(_satellite.readCookie('t1'));
        var latency = (orderPurchase-firstTimeCart)/1000;
        _satellite.removeCookie('cartExist');
        _satellite.removeCookie('t1');
        s.events = s.apl(s.events, "event112="+latency,",",2);
      }
    

  

    /* put visitor ID in prop20 for debugging purposes */
    s.prop20="D=mid";

    /* page depth for conversion events */
    s.eVar37="+1";

    /* header-based variables */
    s.pageUrl=document.location.href;
    if(s.pageUrl.indexOf("?")>0){
        s.pageUrl=s.pageUrl.split("?");
    } else {
        s.pageUrl=s.pageUrl.split("#");
    }
    s.prop7=s.pageUrl[0];
    s.prop6=s.pageUrl[1] ? s.pageUrl[1] : '';
    s.eVar5="D=c7";
    s.eVar4="D=c6";

    /* copy page name to eVar */
    if(!s.eVar7)
        s.eVar7 = s.pageName ? s.pageName : '';

    /* previous page name */
    s.eVar6=s.getPreviousValue(s.pageName,'gpv_v6','');

    /* Page Title */
    if(!s.prop22){s.prop22 = document.title;}
    if(s.prop22){s.eVar55="D=c22";}

    /* time parting */
    var tpA = s.getTimeParting('n','-8'); /* "-8" = pacific time */
    tpA = tpA.split('|');
    s.eVar12=tpA[0] + "/" + tpA[1] + "/" + tpA[2] + " " + tpA[3]; /* time stamp to help with debugging order information */

      if (!(document.URL.indexOf("cheggnet.com/flashcards") > -1 || document.URL.indexOf("chegg.com/flashcards") > -1)) {
        /* clicked element tracking */
        s.hbx_lt = "auto";
        s.setupLinkTrack(",,prop13,", "hbx_lt");
    }
    /* performance timing */
    s.performanceTiming();

    /* audience manager segment */
    s.list1=s.getAamSegments('aamsc','aam_sc');

    /* List of Chegg Experiments from exp cookie */
    s.list2=decodeURIComponent(s.c_r('exp'));

    /* AppMeasurement code version */
    s.prop75=s_code_version + "|" + s.version;

    try {
        /* try/catch statements in case DTM or visitor API information isn't available on page load */
        s.prop75 += "|" + s.visitor.version;
    } catch(e) {
        s.prop75+="|No MCID API";
    }

    try {
        s.prop75+="|" + _satellite.buildDate;
    } catch(e) {
        s.prop75+="|No DTM Build Date";
    }

    try {
        var idState = s.visitor.isClientSideMarketingCloudVisitorID();
        if (idState == null) {
            s.prop75+="|Existing ID";
        } else {
            s.prop75+= idState ? "|Client Side ID" : "|Server Side ID";
        }
    } catch(e) {
        s.prop75+="|Unknown ID state";
    }
    
    // Calculate Mod100 on MCID for experimentation
    try {
        var _mcid = s.visitor.getMarketingCloudVisitorID();
        if (typeof _mcid == 'undefined' ||  _mcid == '')
        {
            _mcid = cheggAnalyticsUtils.getAVIDFromCookie();
        }
        if (_mcid > 0) {
            // JS can't work with numbers larger than 53 bit, following adjusts for that
            s.eVar249 = (_mcid.substring(0,13) % 100).toString();
        }
    } catch(e) { 
        s.eVar202 = "Mod 100 Failed  - SCODE - "+ _mcid+ " " +e;
    }
    
    /*  NATIVE TO WEB VIEW VISITOR ID TRACKING */
    if (s.Util.getQueryParam("appvi")) {
        s.new_vi_date=new Date;
        s.new_vi_date.setFullYear(s.new_vi_date.getFullYear() + 5);
        s.c_w("app_vi",s.Util.getQueryParam("appvi"),s.new_vi_date);
        s.visitorID=s.c_r("app_vi");
        s.visitor.setAnalyticsVisitorID(s.c_r("app_vi"));
    }
    else if (s.c_r("app_vi")) {
        s.visitorID=s.c_r("app_vi");
        s.visitor.setAnalyticsVisitorID(s.c_r("app_vi"));
    }

    /* Audience Manager */
    s.AudienceManagement.setup({
        "partner": "chegginc",
        "containerNSID": 0,
        "visitorService":{"namespace":"3FE7CBC1556605A77F000101@AdobeOrg"},
        "uuidCookie": {
            "name":"aam_uuid",
            "days":30 }
    });

    // BU Visit Metrics
    if (typeof digitalData.page != "undefined" &&
        typeof digitalData.page.category != "undefined" &&
        typeof digitalData.page.category.subCategory2 != "undefined") {

        /* identify 1st page view to vertical per visitor */
        var pageBU = digitalData.page.category.subCategory2;
        var buFirstVisit = s.c_r("buFirstVisit");

        var firstBuPattern = new RegExp('(^|,){1}' + pageBU + '($|,){1}');
        s.linkTrackVars = s.apl(s.linkTrackVars, "eVar83,prop39", ",", 2);

        if (typeof buFirstVisit == 'undefined' ||
            firstBuPattern.test(buFirstVisit) === false) {

            // set adobe vars
            s.linkTrackVars = s.apl(s.linkTrackVars, "events", ",", 2);
            s.linkTrackEvents = s.apl(s.linkTrackEvents, "event6", ',', 2);
            s.events = s.apl(s.events, "event6", ",", 2);
            s.eVar83 = s.prop39 = pageBU + "|new";

            // update cookie
            buFirstVisit = s.apl(buFirstVisit, pageBU, ",", 2);
            s._vertExp = new Date();
            s._vertExp.setFullYear(s._vertExp.getFullYear() + 5);
            s.c_w("buFirstVisit", buFirstVisit, s._vertExp);
        } else {
            s.eVar83 = s.prop39 = pageBU + "|repeat";
        }

        /* capture entries to bu per visit */
        var buVisited = s.c_r("buVisited");
        if (typeof buVisited == 'undefined' || buVisited.indexOf(pageBU) == -1) {

            s.linkTrackVars = s.apl(s.linkTrackVars, "events", ",", 2);
            s.linkTrackEvents = s.apl(s.linkTrackEvents, "event74", ',', 2);
            s.events = s.apl(s.events, "event74", ",", 2);

            buVisited = s.apl(buVisited, pageBU, ",", 2);
            s.c_w("buVisited", buVisited);
        }
    } // end bu visit metrics
  

 
  // Activity Map Customizations
 //reset Activity Map properties
  try
  {
    s.prop33 = s.prop34 = s.prop35 = s.prop36 = "";
    s.prop40 = s.prop41 = s.prop42 = s.prop43 = "";

    /*On Page Link Tracking - The Values are getting empty because of above conditions*/
    var onPageTracking = _satellite.getVar('onPageTracking');
    if(typeof onPageTracking !== 'undefined' && onPageTracking !== ''){
        s.prop33 = onPageTracking.split('|')[0] || '';
        s.prop34 = onPageTracking.split('|')[1] || '';
        s.prop35 = s.pageName || onPageTracking.split('|')[2] || '';
    }

    s.ActivityMap.regionIDAttribute = "am-region-id";
    s.ActivityMap.link = function(ele, linkName) {

      if (ele) {
        var _amLinkID = ele.getAttribute('am-link-id');
        if (_amLinkID && _amLinkID.length > 0) {
          s.c_w("cheggCTALink", "true");
          return _amLinkID;
        }

        _amLinkID = ele.innerText;
        if (_amLinkID && _amLinkID.length > 0) {
          return _amLinkID;
        }

        _amLinkID = getAttribute('alt');
        if (_amLinkID && _amLinkID.length > 0) {
          return _amLinkID;
        }

        _amLinkID = getAttribute('title');
        if (_amLinkID && _amLinkID.length > 0) {
          return _amLinkID;
        }

        _amLinkID = ele.id;
        if (_amLinkID && _amLinkID.length > 0) {
          return _amLinkID;
        }
      }
    }


    var s_sq_cookie_val = s.cookieRead("s_sq");
    if (s_sq_cookie_val) {
      var d_coded = decodeURIComponent(decodeURIComponent(
       s_sq_cookie_val)).split('&');
       var activitymapArr = d_coded.filter(function(val) {
        return new RegExp("page=|link=|region=|pageIDType=").test(val);
      });
      var aMapResults = {};
      activitymapArr.forEach(function(val) {
        var arr = val.split('=');
        arr[1] && (aMapResults[arr[0]] = arr[1]);
      });

      if(typeof aMapResults.link !== "undefined")
             s.prop40 = aMapResults.link;
      if(typeof  aMapResults.region !== "undefined")
         s.prop41 = aMapResults.region;
      if(typeof  aMapResults.page !== "undefined")
         s.prop42 = aMapResults.page;
      if(typeof  aMapResults.pageIDType !== "undefined")
         s.prop43 = aMapResults.pageIDType;

      if (s.c_r("cheggCTALink") === "true") {
        if(typeof aMapResults.link !== "undefined")
               s.prop33 = aMapResults.link;
        if(typeof  aMapResults.region !== "undefined")
           s.prop34 = aMapResults.region;
        if(typeof  aMapResults.page !== "undefined")
           s.prop35 = aMapResults.page;
        if(typeof  aMapResults.pageIDType !== "undefined")
           s.prop36 = aMapResults.pageIDType;
      }
      s.events = s.apl(s.events, "event413", ",", 2);
      if (s.prop42 === "chegg|web|core|digital perk partner page" && s.prop40 === "get offer")
            {
                s.events = s.apl(s.events, "event414", ",", 2);
            }    

    }
    s.c_w("cheggCTALink", "false");
  }
  catch(e)
  {
    s.eVar202 = "Analytics Code  Exception  - SCODE - "+e;
  }
  
  /*set SDID in cookie*/
  s.c_w("SDID",_satellite.getVisitorId().getSupplementalDataID());
  

  
} /* s_doPlugins End */

// set timestamp only if reporting app
if (document.location.href.indexOf('is_in_app') != -1) {
    s.timestamp=Math.round((new Date()).getTime()/1000);
}

s.doPlugins=s_doPlugins;

/* internal campaign tracking functions */
// get value from internal campaign cookie
s.getIntcidValue=function() {
    return s.c_r('intcid');
};
// delete value from internal campaign cookie
s.cleanIntcidValue=function() {
    s.c_w('intcid', '', 0);
};

// click handler for internal campaigns
// stores value in internal campaign cookie
s.intcidOnClick=function() {
    if (this.hasAttribute('data-intcid')) {
        var intcid = this.getAttribute('data-intcid');
        s.c_w('intcid', intcid);
    }
};
// sets up click listeners for internal campaigns
// use data-intcid attribute to signify and internal campaign
s.setIntcidListeners=function() {
    var elems = document.querySelectorAll('[data-intcid]');
    for (var i = 0; i < elems.length; i++) {
        if (elems[i].getAttribute('data-intcidClickSet') === 'true') {
            // We already set the click event for this element
            continue;
        }
        elems[i].addEventListener('click', s.intcidOnClick);
        elems[i].setAttribute('data-intcidClickSet', 'true');
    }
};

/*
 put modules and plugin functions here to be referenced elsewhere in the code file
 */
/*
 Gets the AAM segments out of a cookie. Requires replace (repl) */
s.getAamSegments=new Function("a","b",""
    +"var s=this;var c=s.c_r(a);if(c){c=s.repl(c,b+'=','');}ret"
    +"urn c");
/*
 Plugin: setupLinkTrack v3.15AM */
s.setupLinkTrack=new Function("vl","c","e",""
    +"var s=this;var cv=s.c_r(c);if(vl){var vla=vl.split(',');}if(cv!='')"
    +"{var cva=s.split(cv,'^^');if(cva[1]!=''){for(x in vla){s[vla[x]]=cv"
    +"a[x];if(e){s.events=s.apl(s.events,e,',',2);}}}}s.c_w(c,'',0);if(ty"
    +"peof s.linkObject!='undefined'&&s.hbx_lt!='manual'){s.lta=[];if(typ"
    +"eof s.pageName!='undefined')s.lta[0]=s.pageName;if(typeof s.linkObj"
    +"ect!=null){slo=s.linkObject;if(s.linkObject!=0){if(s.linkObject.get"
    +"Attribute('name')!=null){var b=s.linkObject.getAttribute('name');if"
    +"(b.indexOf('&lpos=')>-1){s.lta[3]=b.match('\&lpos\=([^\&]*)')[1];}i"
    +"f(b.indexOf('&lid=')>-1){s.lta[1]=b.match('\&lid\=([^\&]*)')[1];}}}"
    +"if(typeof s.lta[1]=='undefined'){if(s.linkName!=0){s.lta[1]=s.linkN"
    +"ame;}else if(s.linkObject!=0){if(s.cleanStr(s.linkObject.innerHTML)"
    +".length>0){s.lta[1]=s.cleanStr(s.linkObject.innerHTML);}else if(s.l"
    +"inkObject.innerHTML.indexOf('<img')>-1){s.lta[1]=s.linkObject.inner"
    +"HTML.match('alt=\"([^\"]*)')[1];if(!s.lta[1]){s.lta[1]=s.linkObject.i"
    +"nnerHTML.match('src=\"([^\"]*)')[1]}}else{s.lta[1]=s.linkObject.inner"
    +"HTML;}}}try{if(typeof s.trackLinkModule(s.linkObject)!='undefined')"
    +"{s.lta[3]=s.trackLinkModule(s.linkObject);}}catch(e){}if(s.lta[1]!="
    +"null&&typeof s.lta[1]!='undefined'){if(typeof s.pageName!='undefine"
    +"d')s.lta[0]=s.pageName;s.lta[2]=s.pageName+' | '+s.lta[1];}}if(s.li"
    +"nkType!=0){for(var x=0;x<vla.length;x++){s[vla[x]]=s.cleanStr(s.lta"
    +"[x]);if(e){s.events=s.apl(s.events,e,',',2);s.linkTrackVars=s.apl(s"
    +".linkTrackVars,'events',',',2);}}s.linkTrackVars=s.apl(s.linkTrackV"
    +"ars,vl,',',2);}else{if(s.lta[1]){var tcv='';for(var x=0;x<s.lta.len"
    +"gth;x++){tcv+=s.cleanStr(s.lta[x])+'^^'}s.c_w(c,tcv)}}s.lta=null;}");
s.cleanStr = function(a){
    if(typeof a != 'undefined'){
        if(typeof a == "string"){
            a = a.replace(/<\/?[^>]+(>|$)/g, '');
            a = a.replace(/^\s+|\s+$/g,'');
            a = a.replace(/[\u2018\u2019\u201A]/g, "\'");
            return a;
        }
    }
}

/*
 Plugin: getTimeParting 3.4a - modified to return date stamp */
s.getTimeParting=new Function("h","z",""
    +"var s=this,od;od=new Date('1/1/2000');if(od.getDay()!=6||od.getMont"
    +"h()!=0){return'Data Not Available';}else{var H,M,D,U,ds,de,tm,da=['"
    +"Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturda"
    +"y'],d=new Date();z=z?z:0;z=parseFloat(z);if(s._tpDST){var dso=s._tp"
    +"DST[d.getFullYear()].split(/,/);ds=new Date(dso[0]+'/'+d.getFullYea"
    +"r());de=new Date(dso[1]+'/'+d.getFullYear());if(h=='n'&&d>ds&&d<de)"
    +"{z=z+1;}else if(h=='s'&&(d>de||d<ds)){z=z+1;}}d=d.getTime()+(d.getT"
    +"imezoneOffset()*60000);d=new Date(d+(3600000*z)); dd=d.getDate();mm = d.getMonth()+1;yyyy = d.getFullYear();H=d.getHours();M=d"
    +".getMinutes();M=(M<10)?'0'+M:M;D=d.getDay();U=' AM';if(H>=12){U=' P"
    +"M';H=H-12;}if(H==0){H=12;}D=da[D];tm=H+':'+M+U;return(mm+'|'+dd+'|'+yyyy+'|'+tm+'|'+D);}");
/*
 Plugin: getTimeToComplete, v2.0 (minified) */
s.getTimeToComplete=function(e,t,o,i){var n,a,l,r,s,c,f=this,m=5,T=new Date,u=86400,d=3600,g=60,h=i?"undefined"!=typeof _satellite.notify?_satellite.notify:console.log:function(e){};if(e=e?e.toLowerCase():"start",t=t?t:"gttc",o=o?o:0,h("--- getTimeToComplete ---"),"object"==typeof f.Util)s=f.Util.cookieWrite,c=f.Util.cookieRead;else{if("undefined"==typeof f.c_w)return void h('     Unable to read the getTimeToComplete cookie "'+t+'"');s=function(e,t,o){return f.c_w(e,t,o)},c=function(e){return f.c_r(e)}}if(r=c(t),h("       action (v) = "+e),h("       cookieName (cn) = "+t),h("      cookieValue (cv) = "+r),h("     expiration (e) = "+o),"start"===e){if(!r)return void s(t,T.getTime(),o?new Date(T.getTime()+864e5*o):0);h('     The getTimeToComplete cookie already exists. To fix the problem, call the "stop" action to delete the cookie, then call "start" again')}if("stop"===e){if(r)return e=Math.round((T.getTime()-r)/1e3),e>u?(n=u,a="days"):e>d?(n=d,a="hours"):e>g?(m=2,n=g,a="minutes"):(n=1,a="seconds"),h(["        v is "+e," r is "+m," u is "+n].join(",")),e=e*m/n,l=Math.round(e)/m+" "+a,0===l.indexOf("1 ")&&(l=l.substring(0,l.length-1)),s(t,"",new Date(T.getTime()-r)),h("       TimeToComplete = "+l),l;h('     The getTimeToComplete cookie does not exist. To fix the problem, call the "start" action first, then call "stop" again.')}};
/*
 Plugin: getPreviousValue v1.0 */
s.getPreviousValue=new Function("v","c","el",""
    +"var s=this,t=new Date,i,j,r='';t.setTime(t.getTime()+1800000);if(el"
    +"){if(s.events){i=s.split(el,',');j=s.split(s.events,',');for(x in i"
    +"){for(y in j){if(i[x]==j[y]){if(s.c_r(c)) r=s.c_r(c);v?s.c_w(c,v,t)"
    +":s.c_w(c,'no value',t);return r}}}}}else{if(s.c_r(c)) r=s.c_r(c);v?"
    +"s.c_w(c,v,t):s.c_w(c,'no value',t);return r}");
/*
 Plugin: getValOnce_v1.1 */
s.getValOnce=new Function("v","c","e","t",""
    +"var s=this,a=new Date,v=v?v:'',c=c?c:'s_gvo',e=e?e:0,i=t=='m'?6000"
    +"0:86400000;k=s.c_r(c);if(v){a.setTime(a.getTime()+e*i);s.c_w(c,v,e"
    +"==0?0:a);}return v==k?'':v");
/*
 Plugin: getNewRepeat 1.2 - Returns whether user is new or repeat */
s.getNewRepeat=new Function("d","cn",""
    +"var s=this,e=new Date(),cval,sval,ct=e.getTime();d=d?d:30;cn=cn?cn:"
    +"'s_nr';e.setTime(ct+d*24*60*60*1000);cval=s.c_r(cn);if(cval.length="
    +"=0){s.c_w(cn,ct+'-New',e);return'New';}sval=s.split(cval,'-');if(ct"
    +"-sval[0]<30*60*1000&&sval[1]=='New'){s.c_w(cn,ct+'-New',e);return'N"
    +"ew';}else{s.c_w(cn,ct+'-Repeat',e);return'Repeat';}");
/*
 Plugin Utility: apl v1.1 */
s.apl=new Function("l","v","d","u",""
    +"var s=this,m=0;if(!l)l='';if(u){var i,n,a=s.split(l,d);for(i=0;i<a."
    +"length;i++){n=a[i];m=m||(u==1?(n==v):(n.toLowerCase()==v.toLowerCas"
    +"e()));}}if(!m)l=l?l+d+v:v;return l");
/*
 Utility Function: split v1.5 (JS 1.0 compatible) */
s.split=new Function("l","d",""
    +"var i,x=0,a=new Array;while(l){i=l.indexOf(d);i=i>-1?i:l.length;a[x"
    +"++]=l.substring(0,i);l=l.substring(i+d.length);}return a");
/*
 Cookie Combining Utility v.5 */
if(!s.__ccucr){
    s.c_rr = s.c_r;
    s.__ccucr = true;
    function c_r(k){
        var s = this, d = new Date, v = s.c_rr(k), c = s.c_rspers(), i, m, e;
        if(v) return v; k = s.escape ? s.escape(k) : encodeURIComponent(k);
        i = c.indexOf(' ' + k + '='); c = i < 0 ? s.c_rr('s_sess') : c;
        i = c.indexOf(' ' + k + '='); m = i < 0 ? i : c.indexOf('|', i);
        e = i < 0 ? i : c.indexOf(';', i); m = m > 0 ? m : e;
        v = i < 0 ? '' : s.unescape ? s.unescape(c.substring(i + 2 + k.length, m < 0 ? c.length : m)) : decodeURIComponent(c.substring(i + 2 + k.length, m < 0 ? c.length : m));
        return v;
    }
    function c_rspers(){
        var s = this, cv = s.c_rr("s_pers"), date = new Date().getTime(), expd = null, cvarr = [], vcv = "";
        if(!cv) return vcv; cvarr = cv.split(";"); for(var i = 0, l = cvarr.length; i < l; i++)  { expd = cvarr[i].match(/\|([0-9]+)$/);
            if(expd && parseInt(expd[1]) >= date) { vcv += cvarr[i] + ";"; } } return vcv;
    }
    s.c_rspers = c_rspers;
    s.c_r = s.cookieRead = c_r;
}
if(!s.__ccucw){
    s.c_wr = s.c_w;
    s.__ccucw = true;
    function c_w(k, v, e){
        var s = this, d = new Date, ht = 0, pn = 's_pers', sn = 's_sess', pc = 0, sc = 0, pv, sv, c, i, t, f;
        d.setTime(d.getTime() - 60000); if(s.c_rr(k)) s.c_wr(k, '', d); k = s.escape ? s.escape(k) : encodeURIComponent(k);
        pv = s.c_rspers(); i = pv.indexOf(' ' + k + '='); if(i > -1) { pv = pv.substring(0, i) + pv.substring(pv.indexOf(';', i) + 1); pc = 1; }
        sv = s.c_rr(sn); i = sv.indexOf(' ' + k + '='); if(i > -1) { sv = sv.substring(0, i) + sv.substring(sv.indexOf(';', i) + 1);
            sc = 1; } d = new Date; if(e) { if(e == 1) e = new Date, f = e.getYear(), e.setYear(f + 5 + (f < 1900 ? 1900 : 0));
            if(e.getTime() > d.getTime()) {  pv += ' ' + k + '=' + (s.escape ? s.escape(v) : encodeURIComponent(v)) + '|' + e.getTime() + ';';
                pc = 1; } } else { sv += ' ' + k + '=' + (s.escape ? s.escape(v) : encodeURIComponent(v)) + ';';
            sc = 1; } sv = sv.replace(/%00/g, ''); pv = pv.replace(/%00/g, ''); if(sc) s.c_wr(sn, sv, 0);
        if(pc) { t = pv; while(t && t.indexOf(';') != -1) { var t1 = parseInt(t.substring(t.indexOf('|') + 1, t.indexOf(';')));
            t = t.substring(t.indexOf(';') + 1); ht = ht < t1 ? t1 : ht; } d.setTime(ht); s.c_wr(pn, pv, d); }
        return v == s.c_r(s.unescape ? s.unescape(k) : decodeURIComponent(k));
    }
    s.c_w = s.cookieWrite = c_w;
}

/*
 Utility: AppMeasurement Compatibility v1.1
 Define deprecated H-code s properties and methods used by legacy plugins */
s.wd=window;
s.fl=new Function("x","l",""
    +"return x?(''+x).substring(0,l):x");
s.pt=new Function("x","d","f","a",""
    +"var s=this,t=x,z=0,y,r,l='length';while(t){y=t.indexOf(d);y=y<0?t[l"
    +"]:y;t=t.substring(0,y);r=s[f](t,a);if(r)return r;z+=y+d[l];t=x.subs"
    +"tring(z,x[l]);t=z<x[l]?t:''}return''");
s.rep=new Function("x","o","n",""
    +"var a=new Array,i=0,j;if(x){if(x.split)a=x.split(o);else if(!o)for("
    +"i=0;i<x.length;i++)a[a.length]=x.substring(i,i+1);else while(i>=0){"
    +"j=x.indexOf(o,i);a[a.length]=x.substring(i,j<0?x.length:j);i=j;if(i"
    +">=0)i+=o.length}}x='';j=a.length;if(a&&j>0){x=a[0];if(j>1){if(a.joi"
    +"n)x=a.join(n);else for(i=1;i<j;i++)x+=n+a[i]}}return x");
s.ape=new Function("x",""
    +"var s=this,h='0123456789ABCDEF',f='+~!*()\\'',i,c=s.charSet,n,l,e,y"
    +"='';c=c?c.toUpperCase():'';if(x){x=''+x;if(s.em==3){x=encodeURIComp"
    +"onent(x);for(i=0;i<f.length;i++){n=f.substring(i,i+1);if(x.indexOf("
    +"n)>=0)x=s.rep(x,n,'%'+n.charCodeAt(0).toString(16).toUpperCase())}}"
    +"else if(c=='AUTO'&&('').charCodeAt){for(i=0;i<x.length;i++){c=x.sub"
    +"string(i,i+1);n=x.charCodeAt(i);if(n>127){l=0;e='';while(n||l<4){e="
    +"h.substring(n%16,n%16+1)+e;n=(n-n%16)/16;l++}y+='%u'+e}else if(c=='"
    +"+')y+='%2B';else y+=escape(c)}x=y}else x=s.rep(escape(''+x),'+','%2"
    +"B');if(c&&c!='AUTO'&&s.em==1&&x.indexOf('%u')<0&&x.indexOf('%U')<0)"
    +"{i=x.indexOf('%');while(i>=0){i++;if(h.substring(8).indexOf(x.subst"
    +"ring(i,i+1).toUpperCase())>=0)return x.substring(0,i)+'u00'+x.subst"
    +"ring(i);i=x.indexOf('%',i)}}}return x");
s.epa=new Function("x",""
    +"var s=this,y,tcf;if(x){x=s.rep(''+x,'+',' ');if(s.em==3){tcf=new Fu"
    +"nction('x','var y,e;try{y=decodeURIComponent(x)}catch(e){y=unescape"
    +"(x)}return y');return tcf(x)}else return unescape(x)}return y");
s.parseUri=new Function("u",""
    +"if(u){u=u+'';u=u.indexOf(':')<0&&u.indexOf('//')!=0?(u.indexOf('/')"
    +"==0?'/':'//')+u:u}u=u?u+'':window.location.href;var e,a=document.cr"
    +"eateElement('a'),l=['href','protocol','host','hostname','port','pat"
    +"hname','search','hash'],p,r={href:u,toString:function(){return this"
    +".href}};a.setAttribute('href',u);for(e=1;e<l.length;e++){p=l[e];r[p"
    +"]=a[p]||''}delete a;p=r.pathname||'';if(p.indexOf('/')!=0)r.pathnam"
    +"e='/'+p;return r");
s.gtfs=new Function(""
    +"var w=window,l=w.location,d=document,u;if(!l.origin)l.origin=l.prot"
    +"ocol+'//'+l.hostname+(l.port?':'+l.port:'');u=l!=w.parent.location?"
    +"d.referrer:d.location;return{location:s.parseUri(u)}");
/*
 Plugin Utility: Replace v1.0 */
s.repl=new Function("x","o","n",""
    +"var i=x.indexOf(o),l=n.length;while(x&&i>=0){x=x.substring(0,i)+n+x."
    +"substring(i+o.length);i=x.indexOf(o,i+l)}return x");
/* Plugin: Performance Timing Tracking - 0.11 BETA */
s.performanceTiming=new Function("v",""
    +"var s=this;if(v)s.ptv=v;if(typeof performance!='undefined'){if(perf"
    +"ormance.timing.loadEventEnd==0){s.pi=setInterval(function(){s.perfo"
    +"rmanceWrite()},250);}if(!s.ptc||s.linkType=='e'){s.performanceRead("
    +");}else{s.rfe();s[s.ptv]='';}}");
s.performanceWrite=new Function("",""
    +"var s=this;if(performance.timing.loadEventEnd>0)clearInterval(s.pi)"
    +";try{if(s.c_r('s_ptc')==''&&performance.timing.loadEventEnd>0){try{"
    +"var pt=performance.timing;var pta='';pta=s.performanceCheck(pt.fetc"
    +"hStart,pt.navigationStart);pta+='^^'+s.performanceCheck(pt.domainLo"
    +"okupStart,pt.fetchStart);pta+='^^'+s.performanceCheck(pt.domainLook"
    +"upEnd,pt.domainLookupStart);pta+='^^'+s.performanceCheck(pt.connect"
    +"End,pt.connectStart);pta+='^^'+s.performanceCheck(pt.responseStart,"
    +"pt.connectEnd);pta+='^^'+s.performanceCheck(pt.responseEnd,pt.respo"
    +"nseStart);pta+='^^'+s.performanceCheck(pt.loadEventStart,pt.domLoad"
    +"ing);pta+='^^'+s.performanceCheck(pt.loadEventEnd,pt.loadEventStart"
    +");pta+='^^'+s.performanceCheck(pt.loadEventEnd,pt.navigationStart);"
    +"s.c_w('s_ptc',pta);if(sessionStorage&&navigator.cookieEnabled&&s.pt"
    +"v!='undefined'){var pe=performance.getEntries();var tempPe='';for(v"
    +"ar i=0;i<pe.length;i++){tempPe+='!';tempPe+=pe[i].name.indexOf('?')"
    +">-1?pe[i].name.split('?')[0]:pe[i].name;tempPe+='|'+(Math.round(pe["
    +"i].startTime)/1000).toFixed(1)+'|'+(Math.round(pe[i].duration)/1000"
    +").toFixed(1)+'|'+pe[i].initiatorType;}sessionStorage.setItem('s_pec"
    +"',tempPe);}}catch(err){return;}}}catch(err){return;}");
s.performanceCheck=new Function("a","b",""
    +"if(a>=0&&b>=0){if((a-b)<60000&&((a-b)>=0)){return((a-b)/1000).toFix"
    +"ed(2);}else{return 600;}}");
s.performanceRead=new Function("",""
    +"var s=this;if(performance.timing.loadEventEnd>0)clearInterval(s.pi)"
    +";var cv=s.c_r('s_ptc');if(s.pte){var ela=s.pte.split(',');}if(cv!='"
    +"'){var cva=s.split(cv,'^^');if(cva[1]!=''){for(var x=0;x<(ela.lengt"
    +"h-1);x++){s.events=s.apl(s.events,ela[x]+'='+cva[x],',',2);}}s.even"
    +"ts=s.apl(s.events,ela[ela.length-1],',',2);}s.linkTrackEvents=s.apl"
    +"(s.linkTrackEvents,s.pte,',',2);s.c_w('s_ptc','',0);if(sessionStora"
    +"ge&&navigator.cookieEnabled&&s.ptv!='undefined'){s[s.ptv]=sessionSt"
    +"orage.getItem('s_pec');sessionStorage.setItem('s_pec','',0);}else{s"
    +"[s.ptv]='sessionStorage Unavailable';}s.ptc=true;");
/* Remove from Events 0.1 - Performance Specific,
 removes all performance events from s.events once being tracked. */
s.rfe=new Function("",""
    +"var s=this;var ea=s.split(s.events,',');var pta=s.split(s.pte,',');"
    +"try{for(x in pta){s.events=s.rfl(s.events,pta[x]);s.contextData['ev"
    +"ents']=s.events;}}catch(e){return;}");
/* Plugin Utility - RFL (remove from list) 1.0*/
s.rfl=new Function("l","v","d1","d2","ku",""
    +"var s=this,R=new Array(),C='',d1=!d1?',':d1,d2=!d2?',':d2,ku=!ku?0:"
    +"1;if(!l)return'';L=l.split(d1);for(i=0;i<L.length;i++){if(L[i].inde"
    +"xOf(':')>-1){C=L[i].split(':');C[1]=C[0]+':'+C[1];L[i]=C[0];}if(L[i"
    +"].indexOf('=')>-1){C=L[i].split('=');C[1]=C[0]+'='+C[1];L[i]=C[0];}"
    +"if(L[i]!=v&&C)R.push(C[1]);else if(L[i]!=v)R.push(L[i]);else if(L[i"
    +"]==v&&ku){ku=0;if(C)R.push(C[1]);else R.push(L[i]);}C='';}return s."
    +"join(R,{delim:d2})");

/*
 WARNING: Changing any of the below variables will cause drastic changes to how
 your visitor data is collected.
 Changes should only be made when instructed to do so by your Adobe Consultant.
 */
s.trackingServer=s.trackingServer ? s.trackingServer : "adobetp.chegg.com";
s.trackingServerSecure=s.trackingServerSecure ? s.trackingServerSecure : "adobetps.chegg.com";


/* Media Module Library Start*/
function AppMeasurement_Module_Media(e){var M=this;M.s=e,(e=window).s_c_in||(e.s_c_il=[],e.s_c_in=0),M._il=e.s_c_il,M._in=e.s_c_in,M._il[M._in]=M,e.s_c_in++,M._c="s_m",M.list=[],M.open=function(e,t,n,a){var i,s={},o=new Date,l="";if(t||(t=-1),e&&n){if(M.list||(M.list={}),M.list[e]&&M.close(e),a&&a.id&&(l=a.id),l)for(i in M.list)!Object.prototype[i]&&M.list[i]&&M.list[i].R==l&&M.close(M.list[i].name);s.name=e,s.length=t,s.offset=0,s.e=0,s.playerName=M.playerName?M.playerName:n,s.R=l,s.C=0,s.a=0,
s.timestamp=Math.floor(o.getTime()/1e3),s.k=0,s.u=s.timestamp,s.c=-1,s.n="",s.g=-1,s.D=0,s.I={},s.G=0,s.m=0,s.f="",s.B=0,s.L=0,s.A=0,s.F=0,s.l=!1,s.v="",s.J="",s.K=0,s.r=!1,s.H="",s.complete=0,s.Q=0,s.p=0,s.q=0,M.list[e]=s}},M.openAd=function(e,t,n,a,i,s,o,l){var r={};M.open(e,t,n,l),(r=M.list[e])&&(r.l=!0,r.v=a,r.J=i,r.K=s,r.H=o)},M.M=function(e){var t=M.list[e];M.list[e]=0,t&&t.monitor&&clearTimeout(t.monitor.interval)},M.close=function(e){M.i(e,0,-1)},M.play=function(e,t,n,a){var i=M.i(e,1,t,n,a);i&&!i.monitor&&(i.monitor={},
i.monitor.update=function(){1==i.k&&M.i(i.name,3,-1),i.monitor.interval=setTimeout(i.monitor.update,1e3)},i.monitor.update())},M.click=function(e,t){M.i(e,7,t)},M.complete=function(e,t){M.i(e,5,t)},M.stop=function(e,t){M.i(e,2,t)},M.track=function(e){M.i(e,4,-1)},M.P=function(e,t){var n,a,i,s,o="a.media.",l=e.linkTrackVars,r=e.linkTrackEvents,c="m_i",m=e.contextData;if(t.l&&(o+="ad.",t.v&&(m["a.media.name"]=t.v,m[o+"pod"]=t.J,m[o+"podPosition"]=t.K),t.G||(m[o+"CPM"]=t.H)),t.r&&(m[o+"clicked"]=!0,t.r=!1),
m["a.contentType"]="video"+(t.l?"Ad":""),m["a.media.channel"]=M.channel,m[o+"name"]=t.name,m[o+"playerName"]=t.playerName,0<t.length&&(m[o+"length"]=t.length),m[o+"timePlayed"]=Math.floor(t.a),0<Math.floor(t.a)&&(m[o+"timePlayed"]=Math.floor(t.a)),t.G||(m[o+"view"]=!0,c="m_s",M.Heartbeat&&M.Heartbeat.enabled&&(c=t.l?M.__primetime?"mspa_s":"msa_s":M.__primetime?"msp_s":"ms_s"),t.G=1),t.f&&(m[o+"segmentNum"]=t.m,m[o+"segment"]=t.f,0<t.B&&(m[o+"segmentLength"]=t.B),t.A&&0<t.a&&(m[o+"segmentView"]=!0)),
!t.Q&&t.complete&&(m[o+"complete"]=!0,t.S=1),0<t.p&&(m[o+"milestone"]=t.p),0<t.q&&(m[o+"offsetMilestone"]=t.q),l)for(a in m)Object.prototype[a]||(l+=",contextData."+a);if(n=m["a.contentType"],e.pe=c,e.pev3=n,M.contextDataMapping)for(a in e.events2||(e.events2=""),l&&(l+=",events"),M.contextDataMapping)if(!Object.prototype[a]){if(c=a.length>o.length&&a.substring(0,o.length)==o?a.substring(o.length):"","string"==typeof(n=M.contextDataMapping[a]))for(i=n.split(","),s=0;s<i.length;s++)n=i[s],"a.contentType"==a?(l&&(l+=","+n),
e[n]=m[a]):"view"==c||"segmentView"==c||"clicked"==c||"complete"==c||"timePlayed"==c||"CPM"==c?(r&&(r+=","+n),"timePlayed"==c||"CPM"==c?m[a]&&(e.events2+=(e.events2?",":"")+n+"="+m[a]):m[a]&&(e.events2+=(e.events2?",":"")+n)):"segment"==c&&m[a+"Num"]?(l&&(l+=","+n),e[n]=m[a+"Num"]+":"+m[a]):(l&&(l+=","+n),e[n]=m[a]);else"milestones"!=c&&"offsetMilestones"!=c||m[a=a.substring(0,a.length-1)]&&M.contextDataMapping[a+"s"][m[a]]&&(r&&(r+=","+M.contextDataMapping[a+"s"][m[a]]),e.events2+=(e.events2?",":"")+M.contextDataMapping[a+"s"][m[a]]);m[a]&&(m[a]=0),
"segment"==c&&m[a+"Num"]&&(m[a+"Num"]=0)}e.linkTrackVars=l,e.linkTrackEvents=r},M.i=function(e,t,n,a,i){var s,o,l,r,c,m={},f=(new Date).getTime()/1e3,p=M.trackVars,g=M.trackEvents,d=M.trackSeconds,h=M.trackMilestones,u=M.trackOffsetMilestones,k=M.segmentByMilestones,v=M.segmentByOffsetMilestones,T=1,E={};if(M.channel||(M.channel=M.s.w.location.hostname),(m=e&&M.list&&M.list[e]?M.list[e]:0)&&(m.l&&(d=M.adTrackSeconds,h=M.adTrackMilestones,u=M.adTrackOffsetMilestones,k=M.adSegmentByMilestones,v=M.adSegmentByOffsetMilestones),
n<0&&(n=1==m.k&&0<m.u?f-m.u+m.c:m.c),0<m.length&&(n=n<m.length?n:m.length),n<0&&(n=0),m.offset=n,0<m.length&&(m.e=m.offset/m.length*100,m.e=100<m.e?100:m.e),m.c<0&&(m.c=n),c=m.D,E.name=e,E.ad=m.l,E.length=m.length,E.openTime=new Date,E.openTime.setTime(1e3*m.timestamp),E.offset=m.offset,E.percent=m.e,E.playerName=m.playerName,E.mediaEvent=m.g<0?"OPEN":1==t?"PLAY":2==t?"STOP":3==t?"MONITOR":4==t?"TRACK":5==t?"COMPLETE":7==t?"CLICK":"CLOSE",2<t||t!=m.k&&(2!=t||1==m.k))){if(i||(a=m.m,i=m.f),t){if(1==t&&(m.c=n),
(t<=3||5<=t)&&0<=m.g&&(T=!1,p=g="None",m.g!=n)){if(n<(o=m.g)&&(n<(o=m.c)&&(o=n)),l=h?h.split(","):0,0<m.length&&l&&o<=n)for(r=0;r<l.length;r++)(s=l[r]?parseFloat(""+l[r]):0)&&o/m.length*100<s&&m.e>=s&&(T=!0,r=l.length,E.mediaEvent="MILESTONE",m.p=E.milestone=s);if((l=u?u.split(","):0)&&o<=n)for(r=0;r<l.length;r++)(s=l[r]?parseFloat(""+l[r]):0)&&o<s&&s<=n&&(T=!0,r=l.length,E.mediaEvent="OFFSET_MILESTONE",m.q=E.offsetMilestone=s)}if(m.L||!i){if(k&&h&&0<m.length){if(l=h.split(","))for(l.push("100"),
r=o=0;r<l.length;r++)(s=l[r]?parseFloat(""+l[r]):0)&&(m.e<s&&(a=r+1,i="M:"+o+"-"+s,r=l.length),o=s)}else if(v&&u&&(l=u.split(",")))for(l.push(""+(0<m.length?m.length:"E")),r=o=0;r<l.length;r++)((s=l[r]?parseFloat(""+l[r]):0)||"E"==l[r])&&((n<s||"E"==l[r])&&(a=r+1,i="O:"+o+"-"+s,r=l.length),o=s);i&&(m.L=!0)}(i||m.f)&&i!=m.f&&(m.F=!0,m.f||(m.m=a,m.f=i),0<=m.g&&(T=!0)),(2<=t||100<=m.e)&&m.c<n&&(m.C+=n-m.c,m.a+=n-m.c),(t<=2||3==t&&!m.k)&&(m.n+=(1==t||3==t?"S":"E")+Math.floor(n),m.k=3==t?1:t),!T&&0<=m.g&&t<=3&&(d=d||0)&&m.a>=d&&(T=!0,E.mediaEvent="SECONDS"),
m.u=f,m.c=n}(!t||t<=3&&100<=m.e)&&(2!=m.k&&(m.n+="E"+Math.floor(n)),t=0,p=g="None",E.mediaEvent="CLOSE"),7==t&&(T=E.clicked=m.r=!0),(5==t||M.completeByCloseOffset&&(!t||100<=m.e)&&0<m.length&&n>=m.length-M.completeCloseOffsetThreshold)&&(T=E.complete=m.complete=!0),"MILESTONE"==(f=E.mediaEvent)?f+="_"+E.milestone:"OFFSET_MILESTONE"==f&&(f+="_"+E.offsetMilestone),m.I[f]?E.eventFirstTime=!1:(E.eventFirstTime=!0,m.I[f]=1),E.event=E.mediaEvent,E.timePlayed=m.C,E.segmentNum=m.m,E.segment=m.f,E.segmentLength=m.B,M.monitor&&4!=t&&M.monitor(M.s,E),
M.Heartbeat&&M.Heartbeat.enabled&&0<=m.g&&(T=!1),0==t&&M.M(e),T&&m.D==c&&((e={contextData:{}}).linkTrackVars=p,e.linkTrackEvents=g,e.linkTrackVars||(e.linkTrackVars=""),e.linkTrackEvents||(e.linkTrackEvents=""),M.P(e,m),e.linkTrackVars||(e["!linkTrackVars"]=1),e.linkTrackEvents||(e["!linkTrackEvents"]=1),M.s.track(e),m.F?(m.m=a,m.f=i,m.A=!0,m.F=!1):0<m.a&&(m.A=!1),m.n="",m.p=m.q=0,m.a-=Math.floor(m.a),m.g=n,m.D++)}return m},M.O=function(e,t,n,a,i){var s=0;e&&(!M.autoTrackMediaLengthRequired||t&&0<t)&&(M.list&&M.list[e]?s=1:1!=n&&3!=n||(M.open(e,t,"HTML5 Video",i),s=1),s&&M.i(e,n,a,-1,0))},
M.attach=function(e){var t,n,a;e&&e.tagName&&"VIDEO"==e.tagName.toUpperCase()&&(M.o||(M.o=function(e,t,n){var a,i;M.autoTrack&&(a=e.currentSrc,(i=e.duration)||(i=-1),n<0&&(n=e.currentTime),M.O(a,i,t,n,e))}),t=function(){M.o(e,1,-1)},n=function(){M.o(e,1,-1)},M.j(e,"play",t),M.j(e,"pause",n),M.j(e,"seeking",n),M.j(e,"seeked",t),M.j(e,"ended",function(){M.o(e,0,-1)}),M.j(e,"timeupdate",t),(a=function(){e.paused||e.ended||e.seeking||M.o(e,3,-1),setTimeout(a,1e3)})())},M.j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,!1)},
null==M.completeByCloseOffset&&(M.completeByCloseOffset=1),null==M.completeCloseOffsetThreshold&&(M.completeCloseOffsetThreshold=1),M.Heartbeat={},M.N=function(){var e,t;if(M.autoTrack&&(e=M.s.d.getElementsByTagName("VIDEO")))for(t=0;t<e.length;t++)M.attach(e[t])},M.j(e,"load",M.N)}
/* Media module Library End*/

/************************** CORE APPMEASUREMENT CODE *****************************
 This is the core code that powers Analytics. Don't make changes.
 *********************************************************************************/

s.loadModule("AudienceManagement");   

/*
 Audience Manager AppMeasurement Module v2.12.0
 This is the AAM code that powers Audience Manager. Don't make changes.
 */

function AppMeasurement_Module_AudienceManagement(d){var a=this;a.s=d;var b=window;b.s_c_in||(b.s_c_il=[],b.s_c_in=0);a._il=b.s_c_il;a._in=b.s_c_in;a._il[a._in]=a;b.s_c_in++;a._c="s_m";a.setup=function(c){b.DIL&&c&&(c.disableDefaultRequest=!0,c.disableScriptAttachment=!0,c.disableCORS=!0,c.secureDataCollection=!1,a.instance=b.DIL.create(c),a.tools=b.DIL.tools)};a.isReady=function(){return a.instance?!0:!1};a.getEventCallConfigParams=function(){return a.instance&&a.instance.api&&a.instance.api.getEventCallConfigParams?
a.instance.api.getEventCallConfigParams():{}};a.passData=function(b){a.instance&&a.instance.api&&a.instance.api.passData&&a.instance.api.passData(b)}}
!function(){"use strict";var r,o,a;"function"!=typeof window.DIL&&(window.DIL=function(n){var c,e,I,r,u,h,t,o,s,i,a,d,l,f,p,g,m,y=[],b={};n!==Object(n)&&(n={}),I=n.partner,r=n.containerNSID,u=n.mappings,h=n.uuidCookie,t=!0===n.enableErrorReporting,o=n.visitorService,s=n.declaredId,i=!0===n.delayAllUntilWindowLoad,a=void 0===n.secureDataCollection||!0===n.secureDataCollection,d="boolean"==typeof n.isCoopSafe?n.isCoopSafe:null,l=!0===n.disableDefaultRequest,f=n.afterResultForDefaultRequest,p=n.visitorConstructor,g=!0===n.disableCORS,m=!0===n.ignoreHardDependencyOnVisitorAPI,t&&DIL.errorModule.activate(),m&&y.push("Warning: this instance is configured to ignore the hard dependency on the VisitorAPI service. This means that no URL destinations will be fired if the instance has no connection to VisitorAPI. If the VisitorAPI service is not instantiated, ID syncs will not be fired either.");var v=!0===window._dil_unit_tests;if((c=arguments[1])&&y.push(c+""),!I||"string"!=typeof I){var D={name:"error",message:c="DIL partner is invalid or not specified in initConfig",filename:"dil.js"};return DIL.errorModule.handleError(D),new Error(c)}if(c="DIL containerNSID is invalid or not specified in initConfig, setting to default of 0",(r||"number"==typeof r)&&(r=parseInt(r,10),!isNaN(r)&&0<=r&&(c="")),c&&(r=0,y.push(c),c=""),(e=DIL.getDil(I,r))instanceof DIL&&e.api.getPartner()===I&&e.api.getContainerNSID()===r)return e;if(!(this instanceof DIL))return new DIL(n,"DIL was not instantiated with the 'new' operator, returning a valid instance with partner = "+I+" and containerNSID = "+r);DIL.registerDil(this,I,r);var O={IS_HTTPS:a||"https:"===document.location.protocol,SIX_MONTHS_IN_MINUTES:259200,IE_VERSION:function(){if(document.documentMode)return document.documentMode;for(var e=7;4<e;e--){var t=document.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return null}()};O.IS_IE_LESS_THAN_10="number"==typeof O.IE_VERSION&&O.IE_VERSION<10;var C={stuffed:{}},S={},w={firingQueue:[],fired:[],firing:!1,sent:[],errored:[],reservedKeys:{sids:!0,pdata:!0,logdata:!0,callback:!0,postCallbackFn:!0,useImageRequest:!0},firstRequestHasFired:!1,abortRequests:!1,num_of_cors_responses:0,num_of_cors_errors:0,corsErrorSources:[],num_of_img_responses:0,num_of_img_errors:0,platformParams:{d_nsid:r+"",d_rtbd:"json",d_jsonv:DIL.jsonVersion+"",d_dst:"1"},nonModStatsParams:{d_rtbd:!0,d_dst:!0,d_cts:!0,d_rs:!0},modStatsParams:null,adms:{TIME_TO_CATCH_ALL_REQUESTS_RELEASE:3e4,calledBack:!1,mid:null,noVisitorAPI:null,VisitorAPI:null,instance:null,releaseType:"no VisitorAPI",isOptedOut:!0,isOptedOutCallbackCalled:!1,admsProcessingStarted:!1,process:function(e){try{if(this.admsProcessingStarted)return;this.admsProcessingStarted=!0;var t,n,s,i=o;if("function"!=typeof e||"function"!=typeof e.getInstance)throw this.noVisitorAPI=!0,new Error("Visitor does not exist.");if(i!==Object(i)||!(t=i.namespace)||"string"!=typeof t)throw this.releaseType="no namespace",new Error("DIL.create() needs the initConfig property `visitorService`:{namespace:'<Experience Cloud Org ID>'}");if(!((n=e.getInstance(t,{idSyncContainerID:r}))===Object(n)&&n instanceof e&&"function"==typeof n.isAllowed&&"function"==typeof n.getMarketingCloudVisitorID&&"function"==typeof n.getCustomerIDs&&"function"==typeof n.isOptedOut&&"function"==typeof n.publishDestinations))throw this.releaseType="invalid instance",s="Invalid Visitor instance.",n===Object(n)&&"function"!=typeof n.publishDestinations&&(s+=" In particular, visitorInstance.publishDestinations is not a function. This is needed to fire URL destinations in DIL v8.0+ and should be present in Visitor v3.3+ ."),new Error(s);if(this.VisitorAPI=e,!n.isAllowed())return this.releaseType="VisitorAPI is not allowed to write cookies",void this.releaseRequests();this.instance=n,this.waitForMidToReleaseRequests()}catch(e){if(!m)throw new Error("Error in processing Visitor API, which is a hard dependency for DIL v8.0+: "+e.message);this.releaseRequests()}},waitForMidToReleaseRequests:function(){var t=this;this.instance&&(this.instance.getMarketingCloudVisitorID(function(e){t.mid=e,t.releaseType="VisitorAPI",t.releaseRequests()},!0),(!j.exists||!j.isIabContext&&j.isApproved()||j.isIabContext&&k.hasGoSignal())&&setTimeout(function(){"VisitorAPI"!==t.releaseType&&(t.releaseType="timeout",t.releaseRequests())},this.getLoadTimeout()))},releaseRequests:function(){this.calledBack=!0,w.registerRequest()},getMarketingCloudVisitorID:function(){return this.instance?this.instance.getMarketingCloudVisitorID():null},getMIDQueryString:function(){var e=L.isPopulatedString,t=this.getMarketingCloudVisitorID();return e(this.mid)&&this.mid===t||(this.mid=t),e(this.mid)?"d_mid="+this.mid+"&":""},getCustomerIDs:function(){return this.instance?this.instance.getCustomerIDs():null},getCustomerIDsQueryString:function(e){if(e!==Object(e))return"";var t,n,s,i,r="",o=[],a=[];for(t in e)e.hasOwnProperty(t)&&(n=e[a[0]=t])===Object(n)&&(a[1]=n.id||"",a[2]=n.authState||0,o.push(a),a=[]);if(i=o.length)for(s=0;s<i;s++)r+="&d_cid_ic="+q.encodeAndBuildRequest(o[s],"%01");return r},getIsOptedOut:function(){this.instance?this.instance.isOptedOut([this,this.isOptedOutCallback],this.VisitorAPI.OptOut.GLOBAL,!0):(this.isOptedOut=!1,this.isOptedOutCallbackCalled=!0)},isOptedOutCallback:function(e){this.isOptedOut=e,this.isOptedOutCallbackCalled=!0,w.registerRequest(),j.isIabContext()&&k.checkQueryStringObject()},getLoadTimeout:function(){var e=this.instance;if(e){if("function"==typeof e.getLoadTimeout)return e.getLoadTimeout();if(void 0!==e.loadTimeout)return e.loadTimeout}return this.TIME_TO_CATCH_ALL_REQUESTS_RELEASE}},declaredId:{declaredId:{init:null,request:null},declaredIdCombos:{},setDeclaredId:function(e,t){var n=L.isPopulatedString,s=encodeURIComponent;if(e===Object(e)&&n(t)){var i=e.dpid,r=e.dpuuid,o=null;if(n(i)&&n(r))return o=s(i)+"$"+s(r),!0===this.declaredIdCombos[o]?"setDeclaredId: combo exists for type '"+t+"'":(this.declaredIdCombos[o]=!0,this.declaredId[t]={dpid:i,dpuuid:r},"setDeclaredId: succeeded for type '"+t+"'")}return"setDeclaredId: failed for type '"+t+"'"},getDeclaredIdQueryString:function(){var e=this.declaredId.request,t=this.declaredId.init,n=encodeURIComponent,s="";return null!==e?s="&d_dpid="+n(e.dpid)+"&d_dpuuid="+n(e.dpuuid):null!==t&&(s="&d_dpid="+n(t.dpid)+"&d_dpuuid="+n(t.dpuuid)),s}},registerRequest:function(e){var t,n=this.firingQueue;e===Object(e)&&(n.push(e),e.isDefaultRequest||(l=!0)),this.firing||!n.length||i&&!DIL.windowLoaded||(this.adms.isOptedOutCallbackCalled||this.adms.getIsOptedOut(),this.adms.calledBack&&!this.adms.isOptedOut&&this.adms.isOptedOutCallbackCalled&&(j.isApproved()||k.hasGoSignal())&&(this.adms.isOptedOutCallbackCalled=!1,(t=n.shift()).src=t.src.replace(/&d_nsid=/,"&"+this.adms.getMIDQueryString()+k.getQueryString()+"d_nsid="),L.isPopulatedString(t.corsPostData)&&(t.corsPostData=t.corsPostData.replace(/^d_nsid=/,this.adms.getMIDQueryString()+k.getQueryString()+"d_nsid=")),A.fireRequest(t),this.firstRequestHasFired||"script"!==t.tag&&"cors"!==t.tag||(this.firstRequestHasFired=!0)))},processVisitorAPI:function(){this.adms.process(p||window.Visitor)},getCoopQueryString:function(){var e="";return!0===d?e="&d_coop_safe=1":!1===d&&(e="&d_coop_unsafe=1"),e}};b.requestController=w;var R,_,E={sendingMessages:!1,messages:[],messagesPosted:[],destinations:[],destinationsPosted:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],publishDestinationsVersion:null,requestToProcess:function(e,t){var n,s=this;function i(){s.jsonForComparison.push(e),s.jsonWaiting.push([e,t])}if(e&&!L.isEmptyObject(e))if(n=JSON.stringify(e.dests||[]),this.jsonForComparison.length){var r,o,a,d=!1;for(r=0,o=this.jsonForComparison.length;r<o;r++)if(a=this.jsonForComparison[r],n===JSON.stringify(a.dests||[])){d=!0;break}d?this.jsonDuplicates.push(e):i()}else i();if(this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u[0],u[1]),this.requestToProcess()}this.messages.length&&!this.sendingMessages&&this.sendMessages()},process:function(e){var t,n,s,i,r,o,a=encodeURIComponent,d=this.getPublishDestinationsVersion(),u=!1;if(-1!==d){if((t=e.dests)&&t instanceof Array&&(n=t.length)){for(s=0;s<n;s++)i=t[s],o=[a("dests"),a(i.id||""),a(i.y||""),a(i.c||"")].join("|"),this.addMessage(o),r={url:i.c,hideReferrer:void 0===i.hr||!!i.hr,message:o},this.addDestination(r),void 0!==i.hr&&(u=!0);1===d&&u&&q.consoleWarnOnce("Warning: visitorInstance.publishDestinations version is old (Visitor v3.3). URL destinations will not have the option of being fired on page, only in the iframe.")}this.jsonProcessed.push(e)}else q.consoleWarnOnce("Warning: Invalid visitorInstance.publishDestinations version. URL destinations will not be fired")},addMessage:function(e){this.messages.push(e)},addDestination:function(e){this.destinations.push(e)},sendMessages:function(){this.sendingMessages||(this.sendingMessages=!0,this.messages.length&&this.publishDestinations())},publishDestinations:function(){var t=this,e=w.adms.instance,n=[],s=[],i=function(e){y.push("visitor.publishDestinations() result: "+(e.error||e.message)),t.sendingMessages=!1,t.requestToProcess()},r=function(){t.messages=[],t.destinations=[]};return 1===this.publishDestinationsVersion?(q.extendArray(n,this.messages),q.extendArray(this.messagesPosted,this.messages),r(),e.publishDestinations(I,n,i),"Called visitor.publishDestinations() version 1"):1<this.publishDestinationsVersion?(q.extendArray(s,this.destinations),q.extendArray(this.destinationsPosted,this.destinations),r(),e.publishDestinations({subdomain:I,callback:i,urlDestinations:s}),"Called visitor.publishDestinations() version > 1"):void 0},getPublishDestinationsVersion:function(){if(null!==this.publishDestinationsVersion)return this.publishDestinationsVersion;var e=w.adms.instance,t=-1;return e&&"function"==typeof e.publishDestinations&&(3===e.publishDestinations.length?t=1:1===e.publishDestinations.length&&(t=2)),this.publishDestinationsVersion=t}},P={traits:function(e){return L.isValidPdata(e)&&(S.sids instanceof Array||(S.sids=[]),q.extendArray(S.sids,e)),this},pixels:function(e){return L.isValidPdata(e)&&(S.pdata instanceof Array||(S.pdata=[]),q.extendArray(S.pdata,e)),this},logs:function(e){return L.isValidLogdata(e)&&(S.logdata!==Object(S.logdata)&&(S.logdata={}),q.extendObject(S.logdata,e)),this},customQueryParams:function(e){return L.isEmptyObject(e)||q.extendObject(S,e,w.reservedKeys),this},signals:function(e,t){var n,s=e;if(!L.isEmptyObject(s)){if(t&&"string"==typeof t)for(n in s={},e)e.hasOwnProperty(n)&&(s[t+n]=e[n]);q.extendObject(S,s,w.reservedKeys)}return this},declaredId:function(e){return w.declaredId.setDeclaredId(e,"request"),this},result:function(e){return"function"==typeof e&&(S.callback=e),this},afterResult:function(e){return"function"==typeof e&&(S.postCallbackFn=e),this},useImageRequest:function(){return S.useImageRequest=!0,this},clearData:function(){return S={},this},submit:function(e){return S.isDefaultRequest=!!e,A.submitRequest(S),S={},this},getPartner:function(){return I},getContainerNSID:function(){return r},getEventLog:function(){return y},getState:function(){var e={},t={};return q.extendObject(e,w,{registerRequest:!0}),q.extendObject(t,E,{requestToProcess:!0,process:!0,sendMessages:!0}),{initConfig:n,pendingRequest:S,otherRequestInfo:e,destinationPublishingInfo:t,log:y}},idSync:function(){throw new Error("Please use the `idSyncByURL` method of the Experience Cloud ID Service (Visitor) instance")},aamIdSync:function(){throw new Error("Please use the `idSyncByDataSource` method of the Experience Cloud ID Service (Visitor) instance")},passData:function(e){return L.isEmptyObject(e)?"Error: json is empty or not an object":(A.defaultCallback(e),e)},getPlatformParams:function(){return w.platformParams},getEventCallConfigParams:function(){var e,t=w,n=t.modStatsParams,s=t.platformParams;if(!n){for(e in n={},s)s.hasOwnProperty(e)&&!t.nonModStatsParams[e]&&(n[e.replace(/^d_/,"")]=s[e]);!0===d?n.coop_safe=1:!1===d&&(n.coop_unsafe=1),t.modStatsParams=n}return n},setAsCoopSafe:function(){return d=!0,this},setAsCoopUnsafe:function(){return d=!1,this},getEventCallIabSignals:function(e){var t;return e!==Object(e)?"Error: config is not an object":"function"!=typeof e.callback?"Error: config.callback is not a function":(t=parseInt(e.timeout,10),isNaN(t)&&(t=null),void k.getQueryStringObject(e.callback,t))}},A={corsMetadata:(R="none","undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest&&(R="XMLHttpRequest"),{corsType:R}),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new window[this.corsMetadata.corsType]},submitRequest:function(e){return w.registerRequest(A.createQueuedRequest(e)),!0},createQueuedRequest:function(e){var t,n,s,i,r,o=e.callback,a="img",d=e.isDefaultRequest;if(delete e.isDefaultRequest,!L.isEmptyObject(u))for(s in u)if(u.hasOwnProperty(s)){if(null==(i=u[s])||""===i)continue;if(s in e&&!(i in e)&&!(i in w.reservedKeys)){if(null==(r=e[s])||""===r)continue;e[i]=r}}return L.isValidPdata(e.sids)||(e.sids=[]),L.isValidPdata(e.pdata)||(e.pdata=[]),L.isValidLogdata(e.logdata)||(e.logdata={}),e.logdataArray=q.convertObjectToKeyValuePairs(e.logdata,"=",!0),e.logdataArray.push("_ts="+(new Date).getTime()),"function"!=typeof o&&(o=this.defaultCallback),t=this.makeRequestSrcData(e),(n=this.getCORSInstance())&&!0!==e.useImageRequest&&(a="cors"),{tag:a,src:t.src,corsSrc:t.corsSrc,callbackFn:o,postCallbackFn:e.postCallbackFn,useImageRequest:!!e.useImageRequest,requestData:e,corsInstance:n,corsPostData:t.corsPostData,isDefaultRequest:d}},defaultCallback:function(e,t){var n,s,i,r,o,a,d,u,c;if((n=e.stuff)&&n instanceof Array&&(s=n.length))for(i=0;i<s;i++)(r=n[i])&&r===Object(r)&&(o=r.cn,a=r.cv,void 0!==(d=r.ttl)&&""!==d||(d=Math.floor(q.getMaxCookieExpiresInMinutes()/60/24)),u=r.dmn||"."+document.domain.replace(/^www\./,""),c=r.type,o&&(a||"number"==typeof a)&&("var"!==c&&(d=parseInt(d,10))&&!isNaN(d)&&q.setCookie(o,a,24*d*60,"/",u,!1),C.stuffed[o]=a));var l,f,p=e.uuid;L.isPopulatedString(p)&&(L.isEmptyObject(h)||("string"==typeof(l=h.path)&&l.length||(l="/"),f=parseInt(h.days,10),isNaN(f)&&(f=100),q.setCookie(h.name||"aam_did",p,24*f*60,l,h.domain||"."+document.domain.replace(/^www\./,""),!0===h.secure))),w.abortRequests||E.requestToProcess(e,t)},makeRequestSrcData:function(r){r.sids=L.removeEmptyArrayValues(r.sids||[]),r.pdata=L.removeEmptyArrayValues(r.pdata||[]);var o=w,e=o.platformParams,t=q.encodeAndBuildRequest(r.sids,","),n=q.encodeAndBuildRequest(r.pdata,","),s=(r.logdataArray||[]).join("&");delete r.logdataArray;var i,a,d=encodeURIComponent,u=O.IS_HTTPS?"https://":"http://",c=o.declaredId.getDeclaredIdQueryString(),l=o.adms.instance?o.adms.getCustomerIDsQueryString(o.adms.getCustomerIDs()):"",f=function(){var e,t,n,s,i=[];for(e in r)if(!(e in o.reservedKeys)&&r.hasOwnProperty(e))if(t=r[e],e=d(e),t instanceof Array)for(n=0,s=t.length;n<s;n++)i.push(e+"="+d(t[n]));else i.push(e+"="+d(t));return i.length?"&"+i.join("&"):""}(),p="d_dil_ver="+d(DIL.version),h="d_nsid="+e.d_nsid+o.getCoopQueryString()+c+l+(t.length?"&d_sid="+t:"")+(n.length?"&d_px="+n:"")+(s.length?"&d_ld="+d(s):""),g="&d_rtbd="+e.d_rtbd+"&d_jsonv="+e.d_jsonv+"&d_dst="+e.d_dst,m="&h_referer="+d(location.href);return a=(i=u+I+".demdex.net/event")+"?"+p+"&"+h+g+f+m,{corsSrc:i+"?"+p+"&_ts="+(new Date).getTime(),src:a,corsPostData:h+g+f+m,isDeclaredIdCall:""!==c}},fireRequest:function(e){if("img"===e.tag)this.fireImage(e);else{var t=w.declaredId,n=t.declaredId.request||t.declaredId.init||{},s={dpid:n.dpid||"",dpuuid:n.dpuuid||""};this.fireCORS(e,s)}},fireImage:function(t){var e,n,s=w;s.abortRequests||(s.firing=!0,e=new Image(0,0),s.sent.push(t),e.onload=function(){s.firing=!1,s.fired.push(t),s.num_of_img_responses++,s.registerRequest()},n=function(e){c="imgAbortOrErrorHandler received the event of type "+e.type,y.push(c),s.abortRequests=!0,s.firing=!1,s.errored.push(t),s.num_of_img_errors++,s.registerRequest()},e.addEventListener("error",n),e.addEventListener("abort",n),e.src=t.src)},fireCORS:function(s,i){var r=this,o=w,e=this.corsMetadata.corsType,t=s.corsSrc,n=s.corsInstance,a=s.corsPostData,d=s.postCallbackFn,u="function"==typeof d;if(!o.abortRequests&&!g){o.firing=!0;try{n.open("post",t,!0),"XMLHttpRequest"===e&&(n.withCredentials=!0,n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){4===this.readyState&&200===this.status&&function(e){var t;try{if((t=JSON.parse(e))!==Object(t))return r.handleCORSError(s,i,"Response is not JSON")}catch(e){return r.handleCORSError(s,i,"Error parsing response as JSON")}try{var n=s.callbackFn;o.firing=!1,o.fired.push(s),o.num_of_cors_responses++,n(t,i),u&&d(t,i)}catch(e){e.message="DIL handleCORSResponse caught error with message "+e.message,c=e.message,y.push(c),e.filename=e.filename||"dil.js",e.partner=I,DIL.errorModule.handleError(e);try{n({error:e.name+"|"+e.message},i),u&&d({error:e.name+"|"+e.message},i)}catch(e){}}finally{o.registerRequest()}}(this.responseText)}),n.onerror=function(){r.handleCORSError(s,i,"onerror")},n.ontimeout=function(){r.handleCORSError(s,i,"ontimeout")},n.send(a)}catch(e){this.handleCORSError(s,i,"try-catch")}o.sent.push(s),o.declaredId.declaredId.request=null}},handleCORSError:function(e,t,n){w.num_of_cors_errors++,w.corsErrorSources.push(n)},handleRequestError:function(e,t){var n=w;y.push(e),n.abortRequests=!0,n.firing=!1,n.errored.push(t),n.registerRequest()}},L={isValidPdata:function(e){return!!(e instanceof Array&&this.removeEmptyArrayValues(e).length)},isValidLogdata:function(e){return!this.isEmptyObject(e)},isEmptyObject:function(e){if(e!==Object(e))return!0;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0},removeEmptyArrayValues:function(e){var t,n=0,s=e.length,i=[];for(n=0;n<s;n++)null!=(t=e[n])&&""!==t&&i.push(t);return i},isPopulatedString:function(e){return"string"==typeof e&&e.length}},q={convertObjectToKeyValuePairs:function(e,t,n){var s,i,r=[];for(s in t||(t="="),e)e.hasOwnProperty(s)&&null!=(i=e[s])&&""!==i&&r.push(s+t+(n?encodeURIComponent(i):i));return r},encodeAndBuildRequest:function(e,t){return e.map(function(e){return encodeURIComponent(e)}).join(t)},getCookie:function(e){var t,n,s,i=e+"=",r=document.cookie.split(";");for(t=0,n=r.length;t<n;t++){for(s=r[t];" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}return null},setCookie:function(e,t,n,s,i,r){var o=new Date;n&&(n=1e3*n*60),document.cookie=e+"="+encodeURIComponent(t)+(n?";expires="+new Date(o.getTime()+n).toUTCString():"")+(s?";path="+s:"")+(i?";domain="+i:"")+(r?";secure":"")},extendArray:function(e,t){return e instanceof Array&&t instanceof Array&&(Array.prototype.push.apply(e,t),!0)},extendObject:function(e,t,n){var s;if(e!==Object(e)||t!==Object(t))return!1;for(s in t)if(t.hasOwnProperty(s)){if(!L.isEmptyObject(n)&&s in n)continue;e[s]=t[s]}return!0},getMaxCookieExpiresInMinutes:function(){return O.SIX_MONTHS_IN_MINUTES},replaceMethodsWithFunction:function(e,t){var n;if(e===Object(e)&&"function"==typeof t)for(n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t)},doesConsoleWarnExist:null,consoleWarnMemo:{},consoleWarnOnce:function(e){null===this.doesConsoleWarnExist&&(this.doesConsoleWarnExist=window.console===Object(window.console)&&"function"==typeof window.console.warn),this.consoleWarnMemo[e]||(this.consoleWarnMemo[e]=!0,this.doesConsoleWarnExist&&window.console.warn(e),y.push(e))}},j=(_=b.requestController,{exists:null,instance:null,aamIsApproved:null,init:function(){var e=this;this.checkIfExists()?(this.exists=!0,this.instance=window.adobe.optIn,this.instance.fetchPermissions(function(){e.callback()},!0)):this.exists=!1},checkIfExists:function(){return window.adobe===Object(window.adobe)&&window.adobe.optIn===Object(window.adobe.optIn)},callback:function(){this.aamIsApproved=this.instance.isApproved([this.instance.Categories.AAM]),_.adms.waitForMidToReleaseRequests(),_.adms.getIsOptedOut()},isApproved:function(){return!this.isIabContext()&&!_.adms.isOptedOut&&(!this.exists||this.aamIsApproved)},isIabContext:function(){return this.instance&&this.instance.isIabContext}});b.optIn=j;var T,M,V,x,k=(M=(T=b).requestController,V=T.optIn,x={isVendorConsented:null,doesGdprApply:null,consentString:null,queryStringObjectCallbacks:[],init:function(){this.fetchConsentData()},hasGoSignal:function(){return!(!(V.isIabContext()&&this.isVendorConsented&&this.doesGdprApply&&"string"==typeof this.consentString&&this.consentString.length)||M.adms.isOptedOut)},fetchConsentData:function(n,e){var s=this,t={};"function"!=typeof n&&(n=function(){}),V.instance&&V.isIabContext()?(e&&(t.timeout=e),V.instance.execute({command:"iabPlugin.fetchConsentData",params:t,callback:function(e,t){t===Object(t)?(s.doesGdprApply=!!t.gdprApplies,s.consentString=t.consentString||""):(s.doesGdprApply=!1,s.consentString=""),s.isVendorConsented=V.instance.isApproved(V.instance.Categories.AAM),e?n({}):s.checkQueryStringObject(n),M.adms.waitForMidToReleaseRequests()}})):n({})},getQueryString:function(){return V.isIabContext()?"gdpr="+(this.doesGdprApply?1:0)+"&gdpr_consent="+this.consentString+"&":""},getQueryStringObject:function(e,t){this.fetchConsentData(e,t)},checkQueryStringObject:function(e){x.hasGoSignal()&&"function"==typeof e&&e({gdpr:this.doesGdprApply?1:0,gdpr_consent:this.consentString})}});b.iab=k,"error"===I&&0===r&&window.addEventListener("load",function(){DIL.windowLoaded=!0});var N=!1,Q=function(){N||(N=!0,w.registerRequest(),F())},F=function(){setTimeout(function(){l||w.firstRequestHasFired||("function"==typeof f?P.afterResult(f).submit(!0):P.submit(!0))},DIL.constants.TIME_TO_DEFAULT_REQUEST)},U=document;"error"!==I&&(DIL.windowLoaded?Q():"complete"!==U.readyState&&"loaded"!==U.readyState?window.addEventListener("load",function(){DIL.windowLoaded=!0,Q()}):(DIL.windowLoaded=!0,Q())),w.declaredId.setDeclaredId(s,"init"),j.init(),k.init(),w.processVisitorAPI();O.IS_IE_LESS_THAN_10&&q.replaceMethodsWithFunction(P,function(){return this}),this.api=P,this.getStuffedVariable=function(e){var t=C.stuffed[e];return t||"number"==typeof t||(t=q.getCookie(e))||"number"==typeof t||(t=""),t},this.validators=L,this.helpers=q,this.constants=O,this.log=y,this.pendingRequest=S,this.requestController=w,this.destinationPublishing=E,this.requestProcs=A,this.units=b,v&&(this.variables=C,this.callWindowLoadFunctions=Q)},DIL.extendStaticPropertiesAndMethods=function(e){var t;if(e===Object(e))for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},DIL.extendStaticPropertiesAndMethods({version:"9.1",jsonVersion:1,constants:{TIME_TO_DEFAULT_REQUEST:500},variables:{scriptNodeList:document.getElementsByTagName("script")},windowLoaded:!1,dils:{},isAddedPostWindowLoad:function(){var e=arguments[0];this.windowLoaded="function"==typeof e?!!e():"boolean"!=typeof e||e},create:function(e){try{return new DIL(e)}catch(e){throw new Error("Error in attempt to create DIL instance with DIL.create(): "+e.message)}},registerDil:function(e,t,n){var s=t+"$"+n;s in this.dils||(this.dils[s]=e)},getDil:function(e,t){var n;return"string"!=typeof e&&(e=""),t||(t=0),(n=e+"$"+t)in this.dils?this.dils[n]:new Error("The DIL instance with partner = "+e+" and containerNSID = "+t+" was not found")},dexGetQSVars:function(e,t,n){var s=this.getDil(t,n);return s instanceof this?s.getStuffedVariable(e):""}}),DIL.errorModule=(r=DIL.create({partner:"error",containerNSID:0,ignoreHardDependencyOnVisitorAPI:!0}),a=!(o={harvestererror:14138,destpuberror:14139,dpmerror:14140,generalerror:14137,error:14137,noerrortypedefined:15021,evalerror:15016,rangeerror:15017,referenceerror:15018,typeerror:15019,urierror:15020}),{activate:function(){a=!0},handleError:function(e){if(!a)return"DIL error module has not been activated";e!==Object(e)&&(e={});var t=e.name?(e.name+"").toLowerCase():"",n=t in o?o[t]:o.noerrortypedefined,s=[],i={name:t,filename:e.filename?e.filename+"":"",partner:e.partner?e.partner+"":"no_partner",site:e.site?e.site+"":document.location.href,message:e.message?e.message+"":""};return s.push(n),r.api.pixels(s).logs(i).useImageRequest().submit(),"DIL error report sent"},pixelMap:o}),DIL.tools={},DIL.modules={helpers:{}})}();


/* Start ActivityMap Module

The following module enables ActivityMap tracking in Adobe Analytics. ActivityMap
allows you to view data overlays on your links and content to understand how
users engage with your web site. If you do not intend to use ActivityMap, you
can remove the following block of code from your AppMeasurement.js file.
Additional documentation on how to configure ActivityMap is available at:
https://marketing.adobe.com/resources/help/en_US/analytics/activitymap/getting-started-admins.html
*/
  function AppMeasurement_Module_ActivityMap(f){function g(a,d){var b,c,m;if(a&&d&&(b=e.c[d]||(e.c[d]=d.split(","))))for(m=0;m<b.length&&(c=b[m++]);)if(-1<a.indexOf(c))return null;n=1;return a}function p(a,d,b,c,e){var g,k;if(a.dataset&&(k=a.dataset[d]))g=k;else if(a.getAttribute)if(k=a.getAttribute("data-"+b))g=k;else if(k=a.getAttribute(b))g=k;if(!g&&f.useForcedLinkTracking&&e){var h;a=a.onclick?""+a.onclick:"";varValue="";if(c&&a&&(d=a.indexOf(c),0<=d)){for(d+=c.length;d<a.length;)if(b=a.charAt(d++),
  0<="'\"".indexOf(b)){h=b;break}for(k=!1;d<a.length&&h;){b=a.charAt(d);if(!k&&b===h)break;"\\"===b?k=!0:(varValue+=b,k=!1);d++}}(h=varValue)&&(f.w[c]=h)}return g||e&&f.w[c]}function q(a,d,b){var c;return(c=e[d](a,b))&&(n?(n=0,c):g(h(c),e[d+"Exclusions"]))}function r(a,d,b){var c;if(a&&!(1===(c=a.nodeType)&&(c=a.nodeName)&&(c=c.toUpperCase())&&s[c])&&(1===a.nodeType&&(c=a.nodeValue)&&(d[d.length]=c),b.a||b.t||b.s||!a.getAttribute||((c=a.getAttribute("alt"))?b.a=c:(c=a.getAttribute("title"))?b.t=c:"IMG"==
  (""+a.nodeName).toUpperCase()&&(c=a.getAttribute("src")||a.src)&&(b.s=c)),(c=a.childNodes)&&c.length))for(a=0;a<c.length;a++)r(c[a],d,b)}function h(a){if(null==a||void 0==a)return a;try{return a.replace(RegExp("^[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]+$","mg"),"").replace(RegExp("[\\s\\n\\f\\r\\t\t-\r \u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u205f\u3000\ufeff]{1,}",
  "mg")," ").substring(0,254)}catch(d){}}var e=this;e.s=f;var l=window;l.s_c_in||(l.s_c_il=[],l.s_c_in=0);e._il=l.s_c_il;e._in=l.s_c_in;e._il[e._in]=e;l.s_c_in++;e._c="s_m";e.c={};var n=0,s={SCRIPT:1,STYLE:1,LINK:1,CANVAS:1};e._g=function(){var a,d,b,c=f.contextData,e=f.linkObject;(a=f.pageName||f.pageURL)&&(d=q(e,"link",f.linkName))&&(b=q(e,"region"))&&(c["a.activitymap.page"]=a.substring(0,255),c["a.activitymap.link"]=128<d.length?d.substring(0,128):d,c["a.activitymap.region"]=127<b.length?b.substring(0,
  127):b,c["a.activitymap.pageIDType"]=f.pageName?1:0)};e.link=function(a,d){var b;if(d)b=g(h(d),e.linkExclusions);else if((b=a)&&!(b=p(a,"sObjectId","s-object-id","s_objectID",1))){var c,f;(f=g(h(a.innerText||a.textContent),e.linkExclusions))||(r(a,c=[],b={a:void 0,t:void 0,s:void 0}),(f=g(h(c.join(""))))||(f=g(h(b.a?b.a:b.t?b.t:b.s?b.s:void 0)))||!(c=(c=a.tagName)&&c.toUpperCase?c.toUpperCase():"")||("INPUT"==c||"SUBMIT"==c&&a.value?f=g(h(a.value)):"IMAGE"==c&&a.src&&(f=g(h(a.src)))));b=f}return b};
  e.region=function(a){for(var d,b=e.regionIDAttribute||"id";a&&(a=a.parentNode);){if(d=p(a,b,b,b))return d;if("BODY"==a.nodeName)return"BODY"}}}
/* End ActivityMap Module */

/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============

AppMeasurement for JavaScript version: 2.12.0
Copyright 1996-2016 Adobe, Inc. All Rights Reserved
More info available at http://www.adobe.com/marketing-cloud.html
*/
function AppMeasurement(r){var a=this;a.version="2.12.0";var k=window;k.s_c_in||(k.s_c_il=[],k.s_c_in=0);a._il=k.s_c_il;a._in=k.s_c_in;a._il[a._in]=a;k.s_c_in++;a._c="s_c";var q=k.AppMeasurement.ac;q||(q=null);var p=k,m,s;try{for(m=p.parent,s=p.location;m&&m.location&&s&&""+m.location!=""+s&&p.location&&""+m.location!=""+p.location&&m.location.host==s.host;)p=m,m=p.parent}catch(u){}a.D=function(a){try{console.log(a)}catch(b){}};a.Pa=function(a){return""+parseInt(a)==""+a};a.replace=function(a,b,d){return!a||
0>a.indexOf(b)?a:a.split(b).join(d)};a.escape=function(c){var b,d;if(!c)return c;c=encodeURIComponent(c);for(b=0;7>b;b++)d="+~!*()'".substring(b,b+1),0<=c.indexOf(d)&&(c=a.replace(c,d,"%"+d.charCodeAt(0).toString(16).toUpperCase()));return c};a.unescape=function(c){if(!c)return c;c=0<=c.indexOf("+")?a.replace(c,"+"," "):c;try{return decodeURIComponent(c)}catch(b){}return unescape(c)};a.Ib=function(){var c=k.location.hostname,b=a.fpCookieDomainPeriods,d;b||(b=a.cookieDomainPeriods);if(c&&!a.Ha&&!/^[0-9.]+$/.test(c)&&
(b=b?parseInt(b):2,b=2<b?b:2,d=c.lastIndexOf("."),0<=d)){for(;0<=d&&1<b;)d=c.lastIndexOf(".",d-1),b--;a.Ha=0<d?c.substring(d):c}return a.Ha};a.c_r=a.cookieRead=function(c){c=a.escape(c);var b=" "+a.d.cookie,d=b.indexOf(" "+c+"="),f=0>d?d:b.indexOf(";",d);c=0>d?"":a.unescape(b.substring(d+2+c.length,0>f?b.length:f));return"[[B]]"!=c?c:""};a.c_w=a.cookieWrite=function(c,b,d){var f=a.Ib(),e=a.cookieLifetime,g;b=""+b;e=e?(""+e).toUpperCase():"";d&&"SESSION"!=e&&"NONE"!=e&&((g=""!=b?parseInt(e?e:0):-60)?
(d=new Date,d.setTime(d.getTime()+1E3*g)):1===d&&(d=new Date,g=d.getYear(),d.setYear(g+2+(1900>g?1900:0))));return c&&"NONE"!=e?(a.d.cookie=a.escape(c)+"="+a.escape(""!=b?b:"[[B]]")+"; path=/;"+(d&&"SESSION"!=e?" expires="+d.toUTCString()+";":"")+(f?" domain="+f+";":""),a.cookieRead(c)==b):0};a.Fb=function(){var c=a.Util.getIeVersion();"number"===typeof c&&10>c&&(a.unsupportedBrowser=!0,a.tb(a,function(){}))};a.tb=function(a,b){for(var d in a)a.hasOwnProperty(d)&&"function"===typeof a[d]&&(a[d]=b)};
a.M=[];a.fa=function(c,b,d){if(a.Ia)return 0;a.maxDelay||(a.maxDelay=250);var f=0,e=(new Date).getTime()+a.maxDelay,g=a.d.visibilityState,h=["webkitvisibilitychange","visibilitychange"];g||(g=a.d.webkitVisibilityState);if(g&&"prerender"==g){if(!a.ga)for(a.ga=1,d=0;d<h.length;d++)a.d.addEventListener(h[d],function(){var c=a.d.visibilityState;c||(c=a.d.webkitVisibilityState);"visible"==c&&(a.ga=0,a.delayReady())});f=1;e=0}else d||a.o("_d")&&(f=1);f&&(a.M.push({m:c,a:b,t:e}),a.ga||setTimeout(a.delayReady,
a.maxDelay));return f};a.delayReady=function(){var c=(new Date).getTime(),b=0,d;for(a.o("_d")?b=1:a.za();0<a.M.length;){d=a.M.shift();if(b&&!d.t&&d.t>c){a.M.unshift(d);setTimeout(a.delayReady,parseInt(a.maxDelay/2));break}a.Ia=1;a[d.m].apply(a,d.a);a.Ia=0}};a.setAccount=a.sa=function(c){var b,d;if(!a.fa("setAccount",arguments))if(a.account=c,a.allAccounts)for(b=a.allAccounts.concat(c.split(",")),a.allAccounts=[],b.sort(),d=0;d<b.length;d++)0!=d&&b[d-1]==b[d]||a.allAccounts.push(b[d]);else a.allAccounts=
c.split(",")};a.foreachVar=function(c,b){var d,f,e,g,h="";e=f="";if(a.lightProfileID)d=a.Q,(h=a.lightTrackVars)&&(h=","+h+","+a.ka.join(",")+",");else{d=a.g;if(a.pe||a.linkType)h=a.linkTrackVars,f=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(h=a[e].Zb,f=a[e].Yb));h&&(h=","+h+","+a.G.join(",")+",");f&&h&&(h+=",events,")}b&&(b=","+b+",");for(f=0;f<d.length;f++)e=d[f],(g=a[e])&&(!h||0<=h.indexOf(","+e+","))&&(!b||0<=b.indexOf(","+e+","))&&c(e,g)};a.q=function(c,
b,d,f,e){var g="",h,l,k,n,m=0;"contextData"==c&&(c="c");if(b){for(h in b)if(!(Object.prototype[h]||e&&h.substring(0,e.length)!=e)&&b[h]&&(!d||0<=d.indexOf(","+(f?f+".":"")+h+","))){k=!1;if(m)for(l=0;l<m.length;l++)h.substring(0,m[l].length)==m[l]&&(k=!0);if(!k&&(""==g&&(g+="&"+c+"."),l=b[h],e&&(h=h.substring(e.length)),0<h.length))if(k=h.indexOf("."),0<k)l=h.substring(0,k),k=(e?e:"")+l+".",m||(m=[]),m.push(k),g+=a.q(l,b,d,f,k);else if("boolean"==typeof l&&(l=l?"true":"false"),l){if("retrieveLightData"==
f&&0>e.indexOf(".contextData."))switch(k=h.substring(0,4),n=h.substring(4),h){case "transactionID":h="xact";break;case "channel":h="ch";break;case "campaign":h="v0";break;default:a.Pa(n)&&("prop"==k?h="c"+n:"eVar"==k?h="v"+n:"list"==k?h="l"+n:"hier"==k&&(h="h"+n,l=l.substring(0,255)))}g+="&"+a.escape(h)+"="+a.escape(l)}}""!=g&&(g+="&."+c)}return g};a.usePostbacks=0;a.Lb=function(){var c="",b,d,f,e,g,h,l,k,n="",m="",p=e="",r=a.V();if(a.lightProfileID)b=a.Q,(n=a.lightTrackVars)&&(n=","+n+","+a.ka.join(",")+
",");else{b=a.g;if(a.pe||a.linkType)n=a.linkTrackVars,m=a.linkTrackEvents,a.pe&&(e=a.pe.substring(0,1).toUpperCase()+a.pe.substring(1),a[e]&&(n=a[e].Zb,m=a[e].Yb));n&&(n=","+n+","+a.G.join(",")+",");m&&(m=","+m+",",n&&(n+=",events,"));a.events2&&(p+=(""!=p?",":"")+a.events2)}if(r&&a.xa()&&r.getCustomerIDs){e=q;if(g=r.getCustomerIDs())for(d in g)Object.prototype[d]||(f=g[d],"object"==typeof f&&(e||(e={}),f.id&&(e[d+".id"]=f.id),f.authState&&(e[d+".as"]=f.authState)));e&&(c+=a.q("cid",e))}a.AudienceManagement&&
a.AudienceManagement.isReady()&&(c+=a.q("d",a.AudienceManagement.getEventCallConfigParams()));for(d=0;d<b.length;d++){e=b[d];g=a[e];f=e.substring(0,4);h=e.substring(4);g||("events"==e&&p?(g=p,p=""):"marketingCloudOrgID"==e&&r&&a.X("ECID")&&(g=r.marketingCloudOrgID));if(g&&(!n||0<=n.indexOf(","+e+","))){switch(e){case "customerPerspective":e="cp";break;case "marketingCloudOrgID":e="mcorgid";break;case "supplementalDataID":e="sdid";break;case "timestamp":e="ts";break;case "dynamicVariablePrefix":e=
"D";break;case "visitorID":e="vid";break;case "marketingCloudVisitorID":e="mid";break;case "analyticsVisitorID":e="aid";break;case "audienceManagerLocationHint":e="aamlh";break;case "audienceManagerBlob":e="aamb";break;case "authState":e="as";break;case "pageURL":e="g";255<g.length&&(a.pageURLRest=g.substring(255),g=g.substring(0,255));break;case "pageURLRest":e="-g";break;case "referrer":e="r";break;case "vmk":case "visitorMigrationKey":e="vmt";break;case "visitorMigrationServer":e="vmf";a.ssl&&
a.visitorMigrationServerSecure&&(g="");break;case "visitorMigrationServerSecure":e="vmf";!a.ssl&&a.visitorMigrationServer&&(g="");break;case "charSet":e="ce";break;case "visitorNamespace":e="ns";break;case "cookieDomainPeriods":e="cdp";break;case "cookieLifetime":e="cl";break;case "variableProvider":e="vvp";break;case "currencyCode":e="cc";break;case "channel":e="ch";break;case "transactionID":e="xact";break;case "campaign":e="v0";break;case "latitude":e="lat";break;case "longitude":e="lon";break;
case "resolution":e="s";break;case "colorDepth":e="c";break;case "javascriptVersion":e="j";break;case "javaEnabled":e="v";break;case "cookiesEnabled":e="k";break;case "browserWidth":e="bw";break;case "browserHeight":e="bh";break;case "connectionType":e="ct";break;case "homepage":e="hp";break;case "events":p&&(g+=(""!=g?",":"")+p);if(m)for(h=g.split(","),g="",f=0;f<h.length;f++)l=h[f],k=l.indexOf("="),0<=k&&(l=l.substring(0,k)),k=l.indexOf(":"),0<=k&&(l=l.substring(0,k)),0<=m.indexOf(","+l+",")&&(g+=
(g?",":"")+h[f]);break;case "events2":g="";break;case "contextData":c+=a.q("c",a[e],n,e);g="";break;case "lightProfileID":e="mtp";break;case "lightStoreForSeconds":e="mtss";a.lightProfileID||(g="");break;case "lightIncrementBy":e="mti";a.lightProfileID||(g="");break;case "retrieveLightProfiles":e="mtsr";break;case "deleteLightProfiles":e="mtsd";break;case "retrieveLightData":a.retrieveLightProfiles&&(c+=a.q("mts",a[e],n,e));g="";break;default:a.Pa(h)&&("prop"==f?e="c"+h:"eVar"==f?e="v"+h:"list"==
f?e="l"+h:"hier"==f&&(e="h"+h,g=g.substring(0,255)))}g&&(c+="&"+e+"="+("pev"!=e.substring(0,3)?a.escape(g):g))}"pev3"==e&&a.e&&(c+=a.e)}a.ja&&(c+="&lrt="+a.ja,a.ja=null);return c};a.C=function(a){var b=a.tagName;if("undefined"!=""+a.ec||"undefined"!=""+a.Ub&&"HTML"!=(""+a.Ub).toUpperCase())return"";b=b&&b.toUpperCase?b.toUpperCase():"";"SHAPE"==b&&(b="");b&&(("INPUT"==b||"BUTTON"==b)&&a.type&&a.type.toUpperCase?b=a.type.toUpperCase():!b&&a.href&&(b="A"));return b};a.La=function(a){var b=k.location,
d=a.href?a.href:"",f,e,g;f=d.indexOf(":");e=d.indexOf("?");g=d.indexOf("/");d&&(0>f||0<=e&&f>e||0<=g&&f>g)&&(e=a.protocol&&1<a.protocol.length?a.protocol:b.protocol?b.protocol:"",f=b.pathname.lastIndexOf("/"),d=(e?e+"//":"")+(a.host?a.host:b.host?b.host:"")+("/"!=d.substring(0,1)?b.pathname.substring(0,0>f?0:f)+"/":"")+d);return d};a.N=function(c){var b=a.C(c),d,f,e="",g=0;return b&&(d=c.protocol,f=c.onclick,!c.href||"A"!=b&&"AREA"!=b||f&&d&&!(0>d.toLowerCase().indexOf("javascript"))?f?(e=a.replace(a.replace(a.replace(a.replace(""+
f,"\r",""),"\n",""),"\t","")," ",""),g=2):"INPUT"==b||"SUBMIT"==b?(c.value?e=c.value:c.innerText?e=c.innerText:c.textContent&&(e=c.textContent),g=3):"IMAGE"==b&&c.src&&(e=c.src):e=a.La(c),e)?{id:e.substring(0,100),type:g}:0};a.bc=function(c){for(var b=a.C(c),d=a.N(c);c&&!d&&"BODY"!=b;)if(c=c.parentElement?c.parentElement:c.parentNode)b=a.C(c),d=a.N(c);d&&"BODY"!=b||(c=0);c&&(b=c.onclick?""+c.onclick:"",0<=b.indexOf(".tl(")||0<=b.indexOf(".trackLink("))&&(c=0);return c};a.Tb=function(){var c,b,d=a.linkObject,
f=a.linkType,e=a.linkURL,g,h;a.la=1;d||(a.la=0,d=a.clickObject);if(d){c=a.C(d);for(b=a.N(d);d&&!b&&"BODY"!=c;)if(d=d.parentElement?d.parentElement:d.parentNode)c=a.C(d),b=a.N(d);b&&"BODY"!=c||(d=0);if(d&&!a.linkObject){var l=d.onclick?""+d.onclick:"";if(0<=l.indexOf(".tl(")||0<=l.indexOf(".trackLink("))d=0}}else a.la=1;!e&&d&&(e=a.La(d));e&&!a.linkLeaveQueryString&&(g=e.indexOf("?"),0<=g&&(e=e.substring(0,g)));if(!f&&e){var m=0,n=0,p;if(a.trackDownloadLinks&&a.linkDownloadFileTypes)for(l=e.toLowerCase(),
g=l.indexOf("?"),h=l.indexOf("#"),0<=g?0<=h&&h<g&&(g=h):g=h,0<=g&&(l=l.substring(0,g)),g=a.linkDownloadFileTypes.toLowerCase().split(","),h=0;h<g.length;h++)(p=g[h])&&l.substring(l.length-(p.length+1))=="."+p&&(f="d");if(a.trackExternalLinks&&!f&&(l=e.toLowerCase(),a.Oa(l)&&(a.linkInternalFilters||(a.linkInternalFilters=k.location.hostname),g=0,a.linkExternalFilters?(g=a.linkExternalFilters.toLowerCase().split(","),m=1):a.linkInternalFilters&&(g=a.linkInternalFilters.toLowerCase().split(",")),g))){for(h=
0;h<g.length;h++)p=g[h],0<=l.indexOf(p)&&(n=1);n?m&&(f="e"):m||(f="e")}}a.linkObject=d;a.linkURL=e;a.linkType=f;if(a.trackClickMap||a.trackInlineStats)a.e="",d&&(f=a.pageName,e=1,d=d.sourceIndex,f||(f=a.pageURL,e=0),k.s_objectID&&(b.id=k.s_objectID,d=b.type=1),f&&b&&b.id&&c&&(a.e="&pid="+a.escape(f.substring(0,255))+(e?"&pidt="+e:"")+"&oid="+a.escape(b.id.substring(0,100))+(b.type?"&oidt="+b.type:"")+"&ot="+c+(d?"&oi="+d:"")))};a.Mb=function(){var c=a.la,b=a.linkType,d=a.linkURL,f=a.linkName;b&&(d||
f)&&(b=b.toLowerCase(),"d"!=b&&"e"!=b&&(b="o"),a.pe="lnk_"+b,a.pev1=d?a.escape(d):"",a.pev2=f?a.escape(f):"",c=1);a.abort&&(c=0);if(a.trackClickMap||a.trackInlineStats||a.Pb()){var b={},d=0,e=a.ob(),g=e?e.split("&"):0,h,l,k,e=0;if(g)for(h=0;h<g.length;h++)l=g[h].split("="),f=a.unescape(l[0]).split(","),l=a.unescape(l[1]),b[l]=f;f=a.account.split(",");h={};for(k in a.contextData)k&&!Object.prototype[k]&&"a.activitymap."==k.substring(0,14)&&(h[k]=a.contextData[k],a.contextData[k]="");a.e=a.q("c",h)+
(a.e?a.e:"");if(c||a.e){c&&!a.e&&(e=1);for(l in b)if(!Object.prototype[l])for(k=0;k<f.length;k++)for(e&&(g=b[l].join(","),g==a.account&&(a.e+=("&"!=l.charAt(0)?"&":"")+l,b[l]=[],d=1)),h=0;h<b[l].length;h++)g=b[l][h],g==f[k]&&(e&&(a.e+="&u="+a.escape(g)+("&"!=l.charAt(0)?"&":"")+l+"&u=0"),b[l].splice(h,1),d=1);c||(d=1);if(d){e="";h=2;!c&&a.e&&(e=a.escape(f.join(","))+"="+a.escape(a.e),h=1);for(l in b)!Object.prototype[l]&&0<h&&0<b[l].length&&(e+=(e?"&":"")+a.escape(b[l].join(","))+"="+a.escape(l),
h--);a.ub(e)}}}return c};a.ob=function(){if(a.useLinkTrackSessionStorage){if(a.Ca())return k.sessionStorage.getItem(a.R)}else return a.cookieRead(a.R)};a.Ca=function(){return k.sessionStorage?!0:!1};a.ub=function(c){a.useLinkTrackSessionStorage?a.Ca()&&k.sessionStorage.setItem(a.R,c):a.cookieWrite(a.R,c)};a.Nb=function(){if(!a.Xb){var c=new Date,b=p.location,d,f,e=f=d="",g="",h="",l="1.2",k=a.cookieWrite("s_cc","true",0)?"Y":"N",m="",q="";if(c.setUTCDate&&(l="1.3",(0).toPrecision&&(l="1.5",c=[],c.forEach))){l=
"1.6";f=0;d={};try{f=new Iterator(d),f.next&&(l="1.7",c.reduce&&(l="1.8",l.trim&&(l="1.8.1",Date.parse&&(l="1.8.2",Object.create&&(l="1.8.5")))))}catch(r){}}d=screen.width+"x"+screen.height;e=navigator.javaEnabled()?"Y":"N";f=screen.pixelDepth?screen.pixelDepth:screen.colorDepth;g=a.w.innerWidth?a.w.innerWidth:a.d.documentElement.offsetWidth;h=a.w.innerHeight?a.w.innerHeight:a.d.documentElement.offsetHeight;try{a.b.addBehavior("#default#homePage"),m=a.b.cc(b)?"Y":"N"}catch(s){}try{a.b.addBehavior("#default#clientCaps"),
q=a.b.connectionType}catch(t){}a.resolution=d;a.colorDepth=f;a.javascriptVersion=l;a.javaEnabled=e;a.cookiesEnabled=k;a.browserWidth=g;a.browserHeight=h;a.connectionType=q;a.homepage=m;a.Xb=1}};a.S={};a.loadModule=function(c,b){var d=a.S[c];if(!d){d=k["AppMeasurement_Module_"+c]?new k["AppMeasurement_Module_"+c](a):{};a.S[c]=a[c]=d;d.jb=function(){return d.rb};d.vb=function(b){if(d.rb=b)a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d)};try{Object.defineProperty?Object.defineProperty(d,"onLoad",
{get:d.jb,set:d.vb}):d._olc=1}catch(f){d._olc=1}}b&&(a[c+"_onLoad"]=b,a.fa(c+"_onLoad",[a,d],1)||b(a,d))};a.o=function(c){var b,d;for(b in a.S)if(!Object.prototype[b]&&(d=a.S[b])&&(d._olc&&d.onLoad&&(d._olc=0,d.onLoad(a,d)),d[c]&&d[c]()))return 1;return 0};a.Pb=function(){return a.ActivityMap&&a.ActivityMap._c?!0:!1};a.Qb=function(){var c=Math.floor(1E13*Math.random()),b=a.visitorSampling,d=a.visitorSamplingGroup,d="s_vsn_"+(a.visitorNamespace?a.visitorNamespace:a.account)+(d?"_"+d:""),f=a.cookieRead(d);
if(b){b*=100;f&&(f=parseInt(f));if(!f){if(!a.cookieWrite(d,c))return 0;f=c}if(f%1E4>b)return 0}return 1};a.T=function(c,b){var d,f,e,g,h,k;for(d=0;2>d;d++)for(f=0<d?a.Da:a.g,e=0;e<f.length;e++)if(g=f[e],(h=c[g])||c["!"+g]){if(!b&&("contextData"==g||"retrieveLightData"==g)&&a[g])for(k in a[g])h[k]||(h[k]=a[g][k]);a[g]=h}};a.Za=function(c,b){var d,f,e,g;for(d=0;2>d;d++)for(f=0<d?a.Da:a.g,e=0;e<f.length;e++)g=f[e],c[g]=a[g],b||c[g]||(c["!"+g]=1)};a.Hb=function(a){var b,d,f,e,g,h=0,k,m="",n="";if(a&&
255<a.length&&(b=""+a,d=b.indexOf("?"),0<d&&(k=b.substring(d+1),b=b.substring(0,d),e=b.toLowerCase(),f=0,"http://"==e.substring(0,7)?f+=7:"https://"==e.substring(0,8)&&(f+=8),d=e.indexOf("/",f),0<d&&(e=e.substring(f,d),g=b.substring(d),b=b.substring(0,d),0<=e.indexOf("google")?h=",q,ie,start,search_key,word,kw,cd,":0<=e.indexOf("yahoo.co")&&(h=",p,ei,"),h&&k)))){if((a=k.split("&"))&&1<a.length){for(f=0;f<a.length;f++)e=a[f],d=e.indexOf("="),0<d&&0<=h.indexOf(","+e.substring(0,d)+",")?m+=(m?"&":"")+
e:n+=(n?"&":"")+e;m&&n?k=m+"&"+n:n=""}d=253-(k.length-n.length)-b.length;a=b+(0<d?g.substring(0,d):"")+"?"+k}return a};a.cb=function(c){var b=a.d.visibilityState,d=["webkitvisibilitychange","visibilitychange"];b||(b=a.d.webkitVisibilityState);if(b&&"prerender"==b){if(c)for(b=0;b<d.length;b++)a.d.addEventListener(d[b],function(){var b=a.d.visibilityState;b||(b=a.d.webkitVisibilityState);"visible"==b&&c()});return!1}return!0};a.ca=!1;a.J=!1;a.xb=function(){a.J=!0;a.H()};a.K=!1;a.U=!1;a.yb=function(c){a.marketingCloudVisitorID=
c.MCMID;a.visitorOptedOut=c.MCOPTOUT;a.analyticsVisitorID=c.MCAID;a.audienceManagerLocationHint=c.MCAAMLH;a.audienceManagerBlob=c.MCAAMB;a.K=!1;a.U=!0;a.H()};a.bb=function(c){a.maxDelay||(a.maxDelay=250);return a.o("_d")?(c&&setTimeout(function(){c()},a.maxDelay),!1):!0};a.aa=!1;a.I=!1;a.za=function(){a.I=!0;a.H()};a.isReadyToTrack=function(){var c=!0;if(!a.nb()||!a.mb())return!1;a.xa()||(c=!1);a.qb()||(c=!1);return c};a.nb=function(){a.ca||a.J||(a.cb(a.xb)?a.J=!0:a.ca=!0);return a.ca&&!a.J?!1:!0};
a.mb=function(){var c=a.va();if(c)if(a.ta||a.ba)if(a.ta){if(!c.isApproved(c.Categories.ANALYTICS))return!1}else return!1;else return c.fetchPermissions(a.sb,!0),a.ba=!0,!1;return!0};a.X=function(c){var b=a.va();return b&&!b.isApproved(b.Categories[c])?!1:!0};a.va=function(){return k.adobe&&k.adobe.optIn?k.adobe.optIn:null};a.xa=function(){var c=a.V();return c&&c.getVisitorValues&&(a.K||a.U||(a.K=!0,c.getVisitorValues(a.yb)),a.K&&!a.U)?!1:!0};a.V=function(){var c=a.visitor;c&&!c.isAllowed()&&(c=null);
return c};a.qb=function(){a.aa||a.I||(a.bb(a.za)?a.I=!0:a.aa=!0);return a.aa&&!a.I?!1:!0};a.ba=!1;a.sb=function(){a.ba=!1;a.ta=!0};a.l=q;a.r=0;a.callbackWhenReadyToTrack=function(c,b,d){var f;f={};f.Cb=c;f.Bb=b;f.zb=d;a.l==q&&(a.l=[]);a.l.push(f);0==a.r&&(a.r=setInterval(a.H,100))};a.H=function(){var c;if(a.isReadyToTrack()&&(a.wb(),a.l!=q))for(;0<a.l.length;)c=a.l.shift(),c.Bb.apply(c.Cb,c.zb)};a.wb=function(){a.r&&(clearInterval(a.r),a.r=0)};a.lb=function(c){var b,d,f=q,e=q;if(!a.isReadyToTrack()){b=
[];if(c!=q)for(d in f={},c)f[d]=c[d];e={};a.Za(e,!0);b.push(f);b.push(e);a.callbackWhenReadyToTrack(a,a.track,b);return!0}return!1};a.Jb=function(){var c=a.cookieRead("s_fid"),b="",d="",f;f=8;var e=4;if(!c||0>c.indexOf("-")){for(c=0;16>c;c++)f=Math.floor(Math.random()*f),b+="0123456789ABCDEF".substring(f,f+1),f=Math.floor(Math.random()*e),d+="0123456789ABCDEF".substring(f,f+1),f=e=16;c=b+"-"+d}a.cookieWrite("s_fid",c,1)||(c=0);return c};a.t=a.track=function(c,b){var d,f=new Date,e="s"+Math.floor(f.getTime()/
108E5)%10+Math.floor(1E13*Math.random()),g=f.getYear(),g="t="+a.escape(f.getDate()+"/"+f.getMonth()+"/"+(1900>g?g+1900:g)+" "+f.getHours()+":"+f.getMinutes()+":"+f.getSeconds()+" "+f.getDay()+" "+f.getTimezoneOffset()),h=a.V();a.o("_s");a.lb(c)||(b&&a.T(b),c&&(d={},a.Za(d,0),a.T(c)),a.Qb()&&!a.visitorOptedOut&&(a.wa()||(a.fid=a.Jb()),a.Tb(),a.usePlugins&&a.doPlugins&&a.doPlugins(a),a.account&&(a.abort||(a.trackOffline&&!a.timestamp&&(a.timestamp=Math.floor(f.getTime()/1E3)),f=k.location,a.pageURL||
(a.pageURL=f.href?f.href:f),a.referrer||a.$a||(f=a.Util.getQueryParam("adobe_mc_ref",null,null,!0),a.referrer=f||void 0===f?void 0===f?"":f:p.document.referrer),a.$a=1,a.referrer=a.Hb(a.referrer),a.o("_g")),a.Mb()&&!a.abort&&(h&&a.X("TARGET")&&!a.supplementalDataID&&h.getSupplementalDataID&&(a.supplementalDataID=h.getSupplementalDataID("AppMeasurement:"+a._in,a.expectSupplementalData?!1:!0)),a.X("AAM")||(a.contextData["cm.ssf"]=1),a.Nb(),g+=a.Lb(),a.pb(e,g),a.o("_t"),a.referrer=""))),c&&a.T(d,1));
a.abort=a.supplementalDataID=a.timestamp=a.pageURLRest=a.linkObject=a.clickObject=a.linkURL=a.linkName=a.linkType=k.s_objectID=a.pe=a.pev1=a.pev2=a.pev3=a.e=a.lightProfileID=0};a.Ba=[];a.registerPreTrackCallback=function(c){for(var b=[],d=1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Ba.push([c,b]):a.debugTracking&&a.D("DEBUG: Non function type passed to registerPreTrackCallback")};a.gb=function(c){a.ua(a.Ba,c)};a.Aa=[];a.registerPostTrackCallback=function(c){for(var b=[],d=
1;d<arguments.length;d++)b.push(arguments[d]);"function"==typeof c?a.Aa.push([c,b]):a.debugTracking&&a.D("DEBUG: Non function type passed to registerPostTrackCallback")};a.fb=function(c){a.ua(a.Aa,c)};a.ua=function(c,b){if("object"==typeof c)for(var d=0;d<c.length;d++){var f=c[d][0],e=c[d][1].slice();e.unshift(b);if("function"==typeof f)try{f.apply(null,e)}catch(g){a.debugTracking&&a.D(g.message)}}};a.tl=a.trackLink=function(c,b,d,f,e){a.linkObject=c;a.linkType=b;a.linkName=d;e&&(a.k=c,a.v=e);return a.track(f)};
a.trackLight=function(c,b,d,f){a.lightProfileID=c;a.lightStoreForSeconds=b;a.lightIncrementBy=d;return a.track(f)};a.clearVars=function(){var c,b;for(c=0;c<a.g.length;c++)if(b=a.g[c],"prop"==b.substring(0,4)||"eVar"==b.substring(0,4)||"hier"==b.substring(0,4)||"list"==b.substring(0,4)||"channel"==b||"events"==b||"eventList"==b||"products"==b||"productList"==b||"purchaseID"==b||"transactionID"==b||"state"==b||"zip"==b||"campaign"==b)a[b]=void 0};a.tagContainerMarker="";a.pb=function(c,b){var d=a.hb()+
"/"+c+"?AQB=1&ndh=1&pf=1&"+(a.ya()?"callback=s_c_il["+a._in+"].doPostbacks&et=1&":"")+b+"&AQE=1";a.gb(d);a.eb(d);a.W()};a.hb=function(){var c=a.ib();return"http"+(a.ssl?"s":"")+"://"+c+"/b/ss/"+a.account+"/"+(a.mobile?"5.":"")+(a.ya()?"10":"1")+"/JS-"+a.version+(a.Wb?"T":"")+(a.tagContainerMarker?"-"+a.tagContainerMarker:"")};a.ya=function(){return a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks};a.ib=function(){var c=a.dc,b=a.trackingServer;b?a.trackingServerSecure&&a.ssl&&
(b=a.trackingServerSecure):(c=c?(""+c).toLowerCase():"d1","d1"==c?c="112":"d2"==c&&(c="122"),b=a.kb()+"."+c+".2o7.net");return b};a.kb=function(){var c=a.visitorNamespace;c||(c=a.account.split(",")[0],c=c.replace(/[^0-9a-z]/gi,""));return c};a.Ya=/{(%?)(.*?)(%?)}/;a.$b=RegExp(a.Ya.source,"g");a.Gb=function(c){if("object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];if("string"==typeof d.c&&"aa."==d.id.substr(0,3))for(var f=d.c.match(a.$b),e=0;e<f.length;++e){var g=f[e],h=g.match(a.Ya),
k="";"%"==h[1]&&"timezone_offset"==h[2]?k=(new Date).getTimezoneOffset():"%"==h[1]&&"timestampz"==h[2]&&(k=a.Kb());d.c=d.c.replace(g,a.escape(k))}}};a.Kb=function(){var c=new Date,b=new Date(6E4*Math.abs(c.getTimezoneOffset()));return a.j(4,c.getFullYear())+"-"+a.j(2,c.getMonth()+1)+"-"+a.j(2,c.getDate())+"T"+a.j(2,c.getHours())+":"+a.j(2,c.getMinutes())+":"+a.j(2,c.getSeconds())+(0<c.getTimezoneOffset()?"-":"+")+a.j(2,b.getUTCHours())+":"+a.j(2,b.getUTCMinutes())};a.j=function(a,b){return(Array(a+
1).join(0)+b).slice(-a)};a.pa={};a.doPostbacks=function(c){if("object"==typeof c)if(a.Gb(c),"object"==typeof a.AudienceManagement&&"function"==typeof a.AudienceManagement.isReady&&a.AudienceManagement.isReady()&&"function"==typeof a.AudienceManagement.passData)a.AudienceManagement.passData(c);else if("object"==typeof c&&"object"==typeof c.dests)for(var b=0;b<c.dests.length;++b){var d=c.dests[b];"object"==typeof d&&"string"==typeof d.c&&"string"==typeof d.id&&"aa."==d.id.substr(0,3)&&(a.pa[d.id]=new Image,
a.pa[d.id].alt="",a.pa[d.id].src=d.c)}};a.eb=function(c){a.i||a.Ob();a.i.push(c);a.ia=a.B();a.Wa()};a.Ob=function(){a.i=a.Rb();a.i||(a.i=[])};a.Rb=function(){var c,b;if(a.oa()){try{(b=k.localStorage.getItem(a.ma()))&&(c=k.JSON.parse(b))}catch(d){}return c}};a.oa=function(){var c=!0;a.trackOffline&&a.offlineFilename&&k.localStorage&&k.JSON||(c=!1);return c};a.Ma=function(){var c=0;a.i&&(c=a.i.length);a.p&&c++;return c};a.W=function(){if(a.p&&(a.A&&a.A.complete&&a.A.F&&a.A.ra(),a.p))return;a.Na=q;if(a.na)a.ia>
a.P&&a.Ua(a.i),a.qa(500);else{var c=a.Ab();if(0<c)a.qa(c);else if(c=a.Ja())a.p=1,a.Sb(c),a.Vb(c)}};a.qa=function(c){a.Na||(c||(c=0),a.Na=setTimeout(a.W,c))};a.Ab=function(){var c;if(!a.trackOffline||0>=a.offlineThrottleDelay)return 0;c=a.B()-a.Sa;return a.offlineThrottleDelay<c?0:a.offlineThrottleDelay-c};a.Ja=function(){if(0<a.i.length)return a.i.shift()};a.Sb=function(c){if(a.debugTracking){var b="AppMeasurement Debug: "+c;c=c.split("&");var d;for(d=0;d<c.length;d++)b+="\n\t"+a.unescape(c[d]);a.D(b)}};
a.wa=function(){return a.marketingCloudVisitorID||a.analyticsVisitorID};a.Z=!1;var t;try{t=JSON.parse('{"x":"y"}')}catch(w){t=null}t&&"y"==t.x?(a.Z=!0,a.Y=function(a){return JSON.parse(a)}):k.$&&k.$.parseJSON?(a.Y=function(a){return k.$.parseJSON(a)},a.Z=!0):a.Y=function(){return null};a.Vb=function(c){var b,d,f;a.wa()&&2047<c.length&&(a.ab()&&(d=1,b=new XMLHttpRequest),b&&(a.AudienceManagement&&a.AudienceManagement.isReady()||0!=a.usePostbacks)&&(a.Z?b.Ea=!0:b=0));!b&&a.Xa&&(c=c.substring(0,2047));
!b&&a.d.createElement&&(0!=a.usePostbacks||a.AudienceManagement&&a.AudienceManagement.isReady())&&(b=a.d.createElement("SCRIPT"))&&"async"in b&&((f=(f=a.d.getElementsByTagName("HEAD"))&&f[0]?f[0]:a.d.body)?(b.type="text/javascript",b.setAttribute("async","async"),d=2):b=0);b||(b=new Image,b.alt="",b.abort||"undefined"===typeof k.InstallTrigger||(b.abort=function(){b.src=q}));b.Ta=Date.now();b.Ga=function(){try{b.F&&(clearTimeout(b.F),b.F=0)}catch(a){}};b.onload=b.ra=function(){b.Ta&&(a.ja=Date.now()-
b.Ta);a.fb(c);b.Ga();a.Eb();a.da();a.p=0;a.W();if(b.Ea){b.Ea=!1;try{a.doPostbacks(a.Y(b.responseText))}catch(d){}}};b.onabort=b.onerror=b.Ka=function(){b.Ga();(a.trackOffline||a.na)&&a.p&&a.i.unshift(a.Db);a.p=0;a.ia>a.P&&a.Ua(a.i);a.da();a.qa(500)};b.onreadystatechange=function(){4==b.readyState&&(200==b.status?b.ra():b.Ka())};a.Sa=a.B();if(1==d)f=c.indexOf("?"),d=c.substring(0,f),f=c.substring(f+1),f=f.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),b.open("POST",d,!0),b.withCredentials=!0,b.send(f);
else if(b.src=c,2==d){if(a.Qa)try{f.removeChild(a.Qa)}catch(e){}f.firstChild?f.insertBefore(b,f.firstChild):f.appendChild(b);a.Qa=a.A}b.F=setTimeout(function(){b.F&&(b.complete?b.ra():(a.trackOffline&&b.abort&&b.abort(),b.Ka()))},5E3);a.Db=c;a.A=k["s_i_"+a.replace(a.account,",","_")]=b;if(a.useForcedLinkTracking&&a.L||a.v)a.forcedLinkTrackingTimeout||(a.forcedLinkTrackingTimeout=250),a.ea=setTimeout(a.da,a.forcedLinkTrackingTimeout)};a.ab=function(){return"undefined"!==typeof XMLHttpRequest&&"withCredentials"in
new XMLHttpRequest?!0:!1};a.Eb=function(){if(a.oa()&&!(a.Ra>a.P))try{k.localStorage.removeItem(a.ma()),a.Ra=a.B()}catch(c){}};a.Ua=function(c){if(a.oa()){a.Wa();try{k.localStorage.setItem(a.ma(),k.JSON.stringify(c)),a.P=a.B()}catch(b){}}};a.Wa=function(){if(a.trackOffline){if(!a.offlineLimit||0>=a.offlineLimit)a.offlineLimit=10;for(;a.i.length>a.offlineLimit;)a.Ja()}};a.forceOffline=function(){a.na=!0};a.forceOnline=function(){a.na=!1};a.ma=function(){return a.offlineFilename+"-"+a.visitorNamespace+
a.account};a.B=function(){return(new Date).getTime()};a.Oa=function(a){a=a.toLowerCase();return 0!=a.indexOf("#")&&0!=a.indexOf("about:")&&0!=a.indexOf("opera:")&&0!=a.indexOf("javascript:")?!0:!1};a.setTagContainer=function(c){var b,d,f;a.Wb=c;for(b=0;b<a._il.length;b++)if((d=a._il[b])&&"s_l"==d._c&&d.tagContainerName==c){a.T(d);if(d.lmq)for(b=0;b<d.lmq.length;b++)f=d.lmq[b],a.loadModule(f.n);if(d.ml)for(f in d.ml)if(a[f])for(b in c=a[f],f=d.ml[f],f)!Object.prototype[b]&&("function"!=typeof f[b]||
0>(""+f[b]).indexOf("s_c_il"))&&(c[b]=f[b]);if(d.mmq)for(b=0;b<d.mmq.length;b++)f=d.mmq[b],a[f.m]&&(c=a[f.m],c[f.f]&&"function"==typeof c[f.f]&&(f.a?c[f.f].apply(c,f.a):c[f.f].apply(c)));if(d.tq)for(b=0;b<d.tq.length;b++)a.track(d.tq[b]);d.s=a;break}};a.Util={urlEncode:a.escape,urlDecode:a.unescape,cookieRead:a.cookieRead,cookieWrite:a.cookieWrite,getQueryParam:function(c,b,d,f){var e,g="";b||(b=a.pageURL?a.pageURL:k.location);d=d?d:"&";if(!c||!b)return g;b=""+b;e=b.indexOf("?");if(0>e)return g;b=
d+b.substring(e+1)+d;if(!f||!(0<=b.indexOf(d+c+d)||0<=b.indexOf(d+c+"="+d))){e=b.indexOf("#");0<=e&&(b=b.substr(0,e)+d);e=b.indexOf(d+c+"=");if(0>e)return g;b=b.substring(e+d.length+c.length+1);e=b.indexOf(d);0<=e&&(b=b.substring(0,e));0<b.length&&(g=a.unescape(b));return g}},getIeVersion:function(){if(document.documentMode)return document.documentMode;for(var a=7;4<a;a--){var b=document.createElement("div");b.innerHTML="\x3c!--[if IE "+a+"]><span></span><![endif]--\x3e";if(b.getElementsByTagName("span").length)return a}return null}};
a.G="supplementalDataID timestamp dynamicVariablePrefix visitorID marketingCloudVisitorID analyticsVisitorID audienceManagerLocationHint authState fid vmk visitorMigrationKey visitorMigrationServer visitorMigrationServerSecure charSet visitorNamespace cookieDomainPeriods fpCookieDomainPeriods cookieLifetime pageName pageURL customerPerspective referrer contextData currencyCode lightProfileID lightStoreForSeconds lightIncrementBy retrieveLightProfiles deleteLightProfiles retrieveLightData".split(" ");
a.g=a.G.concat("purchaseID variableProvider channel server pageType transactionID campaign state zip events events2 products audienceManagerBlob tnt".split(" "));a.ka="timestamp charSet visitorNamespace cookieDomainPeriods cookieLifetime contextData lightProfileID lightStoreForSeconds lightIncrementBy".split(" ");a.Q=a.ka.slice(0);a.Da="account allAccounts debugTracking visitor visitorOptedOut trackOffline offlineLimit offlineThrottleDelay offlineFilename usePlugins doPlugins configURL visitorSampling visitorSamplingGroup linkObject clickObject linkURL linkName linkType trackDownloadLinks trackExternalLinks trackClickMap trackInlineStats linkLeaveQueryString linkTrackVars linkTrackEvents linkDownloadFileTypes linkExternalFilters linkInternalFilters useForcedLinkTracking forcedLinkTrackingTimeout useLinkTrackSessionStorage trackingServer trackingServerSecure ssl abort mobile dc lightTrackVars maxDelay expectSupplementalData usePostbacks registerPreTrackCallback registerPostTrackCallback AudienceManagement".split(" ");
for(m=0;250>=m;m++)76>m&&(a.g.push("prop"+m),a.Q.push("prop"+m)),a.g.push("eVar"+m),a.Q.push("eVar"+m),6>m&&a.g.push("hier"+m),4>m&&a.g.push("list"+m);m="pe pev1 pev2 pev3 latitude longitude resolution colorDepth javascriptVersion javaEnabled cookiesEnabled browserWidth browserHeight connectionType homepage pageURLRest marketingCloudOrgID ms_a".split(" ");a.g=a.g.concat(m);a.G=a.G.concat(m);a.ssl=0<=k.location.protocol.toLowerCase().indexOf("https");a.charSet="UTF-8";a.contextData={};a.offlineThrottleDelay=
0;a.offlineFilename="AppMeasurement.offline";a.R="s_sq";a.Sa=0;a.ia=0;a.P=0;a.Ra=0;a.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx";a.w=k;a.d=k.document;try{if(a.Xa=!1,navigator){var v=navigator.userAgent;if("Microsoft Internet Explorer"==navigator.appName||0<=v.indexOf("MSIE ")||0<=v.indexOf("Trident/")&&0<=v.indexOf("Windows NT 6"))a.Xa=!0}}catch(x){}a.da=function(){a.ea&&(k.clearTimeout(a.ea),a.ea=q);a.k&&a.L&&a.k.dispatchEvent(a.L);a.v&&("function"==typeof a.v?
a.v():a.k&&a.k.href&&(a.d.location=a.k.href));a.k=a.L=a.v=0};a.Va=function(){a.b=a.d.body;a.b?(a.u=function(c){var b,d,f,e,g;if(!(a.d&&a.d.getElementById("cppXYctnr")||c&&c["s_fe_"+a._in])){if(a.Fa)if(a.useForcedLinkTracking)a.b.removeEventListener("click",a.u,!1);else{a.b.removeEventListener("click",a.u,!0);a.Fa=a.useForcedLinkTracking=0;return}else a.useForcedLinkTracking=0;a.clickObject=c.srcElement?c.srcElement:c.target;try{if(!a.clickObject||a.O&&a.O==a.clickObject||!(a.clickObject.tagName||
a.clickObject.parentElement||a.clickObject.parentNode))a.clickObject=0;else{var h=a.O=a.clickObject;a.ha&&(clearTimeout(a.ha),a.ha=0);a.ha=setTimeout(function(){a.O==h&&(a.O=0)},1E4);f=a.Ma();a.track();if(f<a.Ma()&&a.useForcedLinkTracking&&c.target){for(e=c.target;e&&e!=a.b&&"A"!=e.tagName.toUpperCase()&&"AREA"!=e.tagName.toUpperCase();)e=e.parentNode;if(e&&(g=e.href,a.Oa(g)||(g=0),d=e.target,c.target.dispatchEvent&&g&&(!d||"_self"==d||"_top"==d||"_parent"==d||k.name&&d==k.name))){try{b=a.d.createEvent("MouseEvents")}catch(l){b=
new k.MouseEvent}if(b){try{b.initMouseEvent("click",c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)}catch(m){b=0}b&&(b["s_fe_"+a._in]=b.s_fe=1,c.stopPropagation(),c.stopImmediatePropagation&&c.stopImmediatePropagation(),c.preventDefault(),a.k=c.target,a.L=b)}}}}}catch(n){a.clickObject=0}}},a.b&&a.b.attachEvent?a.b.attachEvent("onclick",a.u):a.b&&a.b.addEventListener&&(navigator&&(0<=navigator.userAgent.indexOf("WebKit")&&
a.d.createEvent||0<=navigator.userAgent.indexOf("Firefox/2")&&k.MouseEvent)&&(a.Fa=1,a.useForcedLinkTracking=1,a.b.addEventListener("click",a.u,!0)),a.b.addEventListener("click",a.u,!1))):setTimeout(a.Va,30)};a.Fb();a.fc||(r?a.setAccount(r):a.D("Error, missing Report Suite ID in AppMeasurement initialization"),a.Va(),a.loadModule("ActivityMap"))}
function s_gi(r){var a,k=window.s_c_il,q,p,m=r.split(","),s,u,t=0;if(k)for(q=0;!t&&q<k.length;){a=k[q];if("s_c"==a._c&&(a.account||a.oun))if(a.account&&a.account==r)t=1;else for(p=a.account?a.account:a.oun,p=a.allAccounts?a.allAccounts:p.split(","),s=0;s<m.length;s++)for(u=0;u<p.length;u++)m[s]==p[u]&&(t=1);q++}t?a.setAccount&&a.setAccount(r):a=new AppMeasurement(r);return a}AppMeasurement.getInstance=s_gi;window.s_objectID||(window.s_objectID=0);
function s_pgicq(){var r=window,a=r.s_giq,k,q,p;if(a)for(k=0;k<a.length;k++)q=a[k],p=s_gi(q.oun),p.setAccount(q.un),p.setTagContainer(q.tagContainerName);r.s_giq=0}s_pgicq();
